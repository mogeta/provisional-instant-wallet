var zp=Object.defineProperty;var Jp=(K,M,ne)=>M in K?zp(K,M,{enumerable:!0,configurable:!0,writable:!0,value:ne}):K[M]=ne;var g=(K,M,ne)=>(Jp(K,typeof M!="symbol"?M+"":M,ne),ne),vo=(K,M,ne)=>{if(!M.has(K))throw TypeError("Cannot "+ne)};var l=(K,M,ne)=>(vo(K,M,"read from private field"),ne?ne.call(K):M.get(K)),y=(K,M,ne)=>{if(M.has(K))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(K):M.set(K,ne)},x=(K,M,ne,re)=>(vo(K,M,"write to private field"),re?re.call(K,ne):M.set(K,ne),ne);var Ki=(K,M,ne,re)=>({set _(T){x(K,M,T,ne)},get _(){return l(K,M,re)}}),P=(K,M,ne)=>(vo(K,M,"access private method"),ne);(function(K,M){typeof exports=="object"&&typeof module<"u"?M(exports):typeof define=="function"&&define.amd?define(["exports"],M):(K=typeof globalThis<"u"?globalThis:K||self,M(K.InstantWallet={}))})(this,function(K){var _r,_n,xn,Vr,Qr,st,Mt,zr,Jr,ce,Ue,Gt,Vn,Qn,zn,yt,Ht,Jn,_i,yi,mi,wi,it,jr,jn,bn,Kt,Wn,Wr,Xa,Le,Qe,Qa,vu,Yr,Zr,Xr,Yn,_t,Xn,Qt,$r,qr,es,ts,ns,rs,ss,is,as,cs,os,Ei,zt,fs,za,ku,ue,ct,Ci,ko,ls,qa,gn,Bs,mt,wt,At,ge,us,ec,ds,tc,Jt,Pi,yn,xs,Ni,Ii,Qp,mn,$n,wn,Us,Wa,Ou,ki,Oi,ps,gs,An,jt,je,En,Et,ms,nc,qn,er,Cn,Ya,ws,Wt,As,Es,Pn,We,Za,Tu,ye,Nn,me,Cs,Fe,tr,In,Yt,Ti,Ye,Ps,Ns,Oe,Xe,Ri,Oo,Si,To,nr,Vi,Bi,Ro,rr,Qi,Is,rc,vs,sc,Te,Ct,sr,vn,ir,ks,Ui,So,Li,Bo,ar,cr,Os,Zt,Pt,ot,Xt,Fi,Uo,kn,Ts,Rs,Ss,Di,or,Mi,Lo,Gi,Fo,fr,zi,Hi,Do;"use strict";const M="6.7.1";function ne(r,e,t){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function re(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function T(r,e,t){for(let n in e){let s=e[n];const i=t?t[n]:null;i&&ne(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}function gr(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(gr).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return gr(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${gr(t)}: ${gr(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function De(r,e){return r&&r.code===e}function ic(r){return De(r,"CALL_EXCEPTION")}function ae(r,e,t){{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${gr(t)}`);for(const i in t){const a=t[i];s.push(i+"="+gr(a))}}s.push(`code=${e}`),s.push(`version=${M}`),s.length&&(r+=" ("+s.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(r);break;default:n=new Error(r)}return T(n,{code:e}),t&&Object.assign(n,t),n}function A(r,e,t,n){if(!r)throw ae(e,t,n)}function b(r,e,t,n){A(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function Mo(r,e,t){t==null&&(t=""),t&&(t=": "+t),A(r>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),A(r<=e,"too many arguemnts"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const Ru=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function Go(r){A(Ru.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function On(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),A(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Ho(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}b(!1,"invalid BytesLike value",e||"value",r)}function O(r,e){return Ho(r,e,!1)}function he(r,e){return Ho(r,e,!0)}function $(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Ko(r){return $(r,!0)||r instanceof Uint8Array}const _o="0123456789abcdef";function N(r){const e=O(r);let t="0x";for(let n=0;n<e.length;n++){const s=e[n];t+=_o[(s&240)>>4]+_o[s&15]}return t}function z(r){return"0x"+r.map(e=>N(e).substring(2)).join("")}function yr(r){return $(r,!0)?(r.length-2)/2:O(r).length}function W(r,e,t){const n=O(r);return t!=null&&t>n.length&&A(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),N(n.slice(e??0,t??n.length))}function Vo(r,e,t){const n=O(r);A(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),N(s)}function Tn(r,e){return Vo(r,e,!0)}function Su(r,e){return Vo(r,e,!1)}const Ji=BigInt(0),$e=BigInt(1),mr=9007199254740991;function Bu(r,e){const t=ji(r,"value"),n=BigInt(L(e,"width"));if(A(t>>n===Ji,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-$e){const s=($e<<n)-$e;return-((~t&s)+$e)}return t}function Qo(r,e){let t=S(r,"value");const n=BigInt(L(e,"width")),s=$e<<n-$e;if(t<Ji){t=-t,A(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const i=($e<<n)-$e;return(~t&i)+$e}else A(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function Ls(r,e){const t=ji(r,"value"),n=BigInt(L(e,"bits"));return t&($e<<n)-$e}function S(r,e){switch(typeof r){case"bigint":return r;case"number":return b(Number.isInteger(r),"underflow",e||"value",r),b(r>=-mr&&r<=mr,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){b(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}b(!1,"invalid BigNumberish value",e||"value",r)}function ji(r,e){const t=S(r,e);return A(t>=Ji,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const zo="0123456789abcdef";function Wi(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=zo[t>>4],e+=zo[t&15];return BigInt(e)}return S(r)}function L(r,e){switch(typeof r){case"bigint":return b(r>=-mr&&r<=mr,"overflow",e||"value",r),Number(r);case"number":return b(Number.isInteger(r),"underflow",e||"value",r),b(r>=-mr&&r<=mr,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return L(BigInt(r),e)}catch(t){b(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}b(!1,"invalid numeric value",e||"value",r)}function Uu(r){return L(Wi(r))}function It(r,e){let n=ji(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=L(e,"width");for(A(s*2>=n.length,`value exceeds width (${s} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}function Ae(r){const e=ji(r,"value");if(e===Ji)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}function wr(r){let e=N(Ko(r)?r:Ae(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const ac="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Yi=null;function Lu(r){if(Yi==null){Yi={};for(let t=0;t<ac.length;t++)Yi[ac[t]]=BigInt(t)}const e=Yi[r];return b(e!=null,"invalid base58 value","letter",r),e}const Fu=BigInt(0),cc=BigInt(58);function Jo(r){let e=Wi(O(r)),t="";for(;e;)t=ac[Number(e%cc)]+t,e/=cc;return t}function Du(r){let e=Fu;for(let t=0;t<r.length;t++)e*=cc,e+=Lu(r[t]);return e}function Mu(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return O(e)}function Gu(r){const e=O(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}class jo{constructor(e,t,n){g(this,"filter");g(this,"emitter");y(this,_r,void 0);x(this,_r,t),T(this,{emitter:e,filter:n})}async removeListener(){l(this,_r)!=null&&await this.emitter.off(this.filter,l(this,_r))}}_r=new WeakMap;function Hu(r,e,t,n,s){b(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Wo(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function Ku(r,e,t,n,s){return r==="OVERLONG"?(b(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Wo(r,e,t))}const _u=Object.freeze({error:Hu,ignore:Wo,replace:Ku});function Vu(r,e){e==null&&(e=_u.error);const t=O(r,"bytes"),n=[];let s=0;for(;s<t.length;){const i=t[s++];if(!(i>>7)){n.push(i);continue}let a=null,c=null;if((i&224)===192)a=1,c=127;else if((i&240)===224)a=2,c=2047;else if((i&248)===240)a=3,c=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+a>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let o=i&(1<<8-a-1)-1;for(let f=0;f<a;f++){let u=t[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),o=null;break}o=o<<6|u&63,s++}if(o!==null){if(o>1114111){s+=e("OUT_OF_RANGE",s-1-a,t,n,o);continue}if(o>=55296&&o<=57343){s+=e("UTF16_SURROGATE",s-1-a,t,n,o);continue}if(o<=c){s+=e("OVERLONG",s-1-a,t,n,o);continue}n.push(o)}}return n}function Ee(r,e){e!=null&&(Go(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;const i=r.charCodeAt(n);b(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);const a=65536+((s&1023)<<10)+(i&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function Qu(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function oc(r,e){return Qu(Vu(r,e))}async function zu(r,e){const t=r.url.split(":")[0].toLowerCase();A(t==="http"||t==="https",`unsupported protocol ${t}`,"UNSUPPORTED_OPERATION",{info:{protocol:t},operation:"request"}),A(t==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(e){const f=new AbortController;n=f.signal,e.addListener(()=>{f.abort()})}const s={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:n},i=await fetch(r.url,s),a={};i.headers.forEach((f,u)=>{a[u.toLowerCase()]=f});const c=await i.arrayBuffer(),o=c==null?null:new Uint8Array(c);return{statusCode:i.status,statusMessage:i.statusText,headers:a,body:o}}const Ju=12,ju=250;let Yo=zu;const Wu=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Yu=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let fc=!1;async function Zo(r,e){try{const t=r.match(Wu);if(!t)throw new Error("invalid data");return new qt(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Mu(t[3]):Xu(t[3]))}catch{return new qt(599,"BAD REQUEST (invalid data: URI)",{},null,new vt(r))}}function Xo(r){async function e(t,n){try{const s=t.match(Yu);if(!s)throw new Error("invalid link");return new vt(`${r}${s[2]}`)}catch{return new qt(599,"BAD REQUEST (invalid IPFS URI)",{},null,new vt(t))}}return e}const Zi={data:Zo,ipfs:Xo("https://gateway.ipfs.io/ipfs/")},$o=new WeakMap;class Zu{constructor(e){y(this,_n,void 0);y(this,xn,void 0);x(this,_n,[]),x(this,xn,!1),$o.set(e,()=>{if(!l(this,xn)){x(this,xn,!0);for(const t of l(this,_n))setTimeout(()=>{t()},0);x(this,_n,[])}})}addListener(e){A(!l(this,xn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),l(this,_n).push(e)}get cancelled(){return l(this,xn)}checkSignal(){A(!this.cancelled,"cancelled","CANCELLED",{})}}_n=new WeakMap,xn=new WeakMap;function Xi(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}const Va=class Va{constructor(e){y(this,Jn);y(this,Vr,void 0);y(this,Qr,void 0);y(this,st,void 0);y(this,Mt,void 0);y(this,zr,void 0);y(this,Jr,void 0);y(this,ce,void 0);y(this,Ue,void 0);y(this,Gt,void 0);y(this,Vn,void 0);y(this,Qn,void 0);y(this,zn,void 0);y(this,yt,void 0);y(this,Ht,void 0);x(this,Jr,String(e)),x(this,Vr,!1),x(this,Qr,!0),x(this,st,{}),x(this,Mt,""),x(this,zr,3e5),x(this,Ht,{slotInterval:ju,maxAttempts:Ju})}get url(){return l(this,Jr)}set url(e){x(this,Jr,String(e))}get body(){return l(this,ce)==null?null:new Uint8Array(l(this,ce))}set body(e){if(e==null)x(this,ce,void 0),x(this,Ue,void 0);else if(typeof e=="string")x(this,ce,Ee(e)),x(this,Ue,"text/plain");else if(e instanceof Uint8Array)x(this,ce,e),x(this,Ue,"application/octet-stream");else if(typeof e=="object")x(this,ce,Ee(JSON.stringify(e))),x(this,Ue,"application/json");else throw new Error("invalid body")}hasBody(){return l(this,ce)!=null}get method(){return l(this,Mt)?l(this,Mt):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),x(this,Mt,String(e).toUpperCase())}get headers(){const e=Object.assign({},l(this,st));return l(this,Gt)&&(e.authorization=`Basic ${Gu(Ee(l(this,Gt)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&l(this,Ue)&&(e["content-type"]=l(this,Ue)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){l(this,st)[String(e).toLowerCase()]=String(t)}clearHeaders(){x(this,st,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return l(this,Gt)||null}setCredentials(e,t){b(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),x(this,Gt,`${e}:${t}`)}get allowGzip(){return l(this,Qr)}set allowGzip(e){x(this,Qr,!!e)}get allowInsecureAuthentication(){return!!l(this,Vr)}set allowInsecureAuthentication(e){x(this,Vr,!!e)}get timeout(){return l(this,zr)}set timeout(e){b(e>=0,"timeout must be non-zero","timeout",e),x(this,zr,e)}get preflightFunc(){return l(this,Vn)||null}set preflightFunc(e){x(this,Vn,e)}get processFunc(){return l(this,Qn)||null}set processFunc(e){x(this,Qn,e)}get retryFunc(){return l(this,zn)||null}set retryFunc(e){x(this,zn,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${l(this,ce)?N(l(this,ce)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(l(this,Ht).slotInterval=e.slotInterval),e.maxAttempts!=null&&(l(this,Ht).maxAttempts=e.maxAttempts)}send(){return A(l(this,yt)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),x(this,yt,new Zu(this)),P(this,Jn,_i).call(this,0,qo()+this.timeout,0,this,new qt(0,"",{},null,this))}cancel(){A(l(this,yt)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=$o.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();A(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Va(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,x(s,st,Object.assign({},l(this,st))),l(this,ce)&&x(s,ce,new Uint8Array(l(this,ce))),x(s,Ue,l(this,Ue)),s}clone(){const e=new Va(this.url);return x(e,Mt,l(this,Mt)),l(this,ce)&&x(e,ce,l(this,ce)),x(e,Ue,l(this,Ue)),x(e,st,Object.assign({},l(this,st))),x(e,Gt,l(this,Gt)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),x(e,Vn,l(this,Vn)),x(e,Qn,l(this,Qn)),x(e,zn,l(this,zn)),e}static lockConfig(){fc=!0}static getGateway(e){return Zi[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(fc)throw new Error("gateways locked");Zi[e]=t}static registerGetUrl(e){if(fc)throw new Error("gateways locked");Yo=e}static createDataGateway(){return Zo}static createIpfsGatewayFunc(e){return Xo(e)}};Vr=new WeakMap,Qr=new WeakMap,st=new WeakMap,Mt=new WeakMap,zr=new WeakMap,Jr=new WeakMap,ce=new WeakMap,Ue=new WeakMap,Gt=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,zn=new WeakMap,yt=new WeakMap,Ht=new WeakMap,Jn=new WeakSet,_i=async function(e,t,n,s,i){var u,d,h;if(e>=l(this,Ht).maxAttempts)return i.makeServerError("exceeded maximum retry limit");A(qo()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await $u(n);let a=this.clone();const c=(a.url.split(":")[0]||"").toLowerCase();if(c in Zi){const p=await Zi[c](a.url,Xi(l(s,yt)));if(p instanceof qt){let m=p;if(this.processFunc){Xi(l(s,yt));try{m=await this.processFunc(a,m)}catch(w){(w.throttle==null||typeof w.stall!="number")&&m.makeServerError("error in post-processing function",w).assertOk()}}return m}a=p}this.preflightFunc&&(a=await this.preflightFunc(a));const o=await Yo(a,Xi(l(s,yt)));let f=new qt(o.statusCode,o.statusMessage,o.headers,o.body,s);if(f.statusCode===301||f.statusCode===302){try{const p=f.headers.location||"";return P(u=a.redirect(p),Jn,_i).call(u,e+1,t,0,s,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,f,e))){const p=f.headers["retry-after"];let m=l(this,Ht).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(m=parseInt(p)),P(d=a.clone(),Jn,_i).call(d,e+1,t,m,s,f)}if(this.processFunc){Xi(l(s,yt));try{f=await this.processFunc(a,f)}catch(p){(p.throttle==null||typeof p.stall!="number")&&f.makeServerError("error in post-processing function",p).assertOk();let m=l(this,Ht).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(m=p.stall),P(h=a.clone(),Jn,_i).call(h,e+1,t,m,s,f)}}return f};let vt=Va;const Eo=class Eo{constructor(e,t,n,s,i){y(this,yi,void 0);y(this,mi,void 0);y(this,wi,void 0);y(this,it,void 0);y(this,jr,void 0);y(this,jn,void 0);x(this,yi,e),x(this,mi,t),x(this,wi,Object.keys(n).reduce((a,c)=>(a[c.toLowerCase()]=String(n[c]),a),{})),x(this,it,s==null?null:new Uint8Array(s)),x(this,jr,i||null),x(this,jn,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${l(this,it)?N(l(this,it)):"null"}>`}get statusCode(){return l(this,yi)}get statusMessage(){return l(this,mi)}get headers(){return Object.assign({},l(this,wi))}get body(){return l(this,it)==null?null:new Uint8Array(l(this,it))}get bodyText(){try{return l(this,it)==null?"":oc(l(this,it))}catch{A(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{A(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Eo(599,n,this.headers,this.body,l(this,jr)||void 0);return x(s,jn,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:b(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw T(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return l(this,it)!=null}get request(){return l(this,jr)}ok(){return l(this,jn).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=l(this,jn);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),A(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}};yi=new WeakMap,mi=new WeakMap,wi=new WeakMap,it=new WeakMap,jr=new WeakMap,jn=new WeakMap;let qt=Eo;function qo(){return new Date().getTime()}function Xu(r){return Ee(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function $u(r){return new Promise(e=>setTimeout(e,r))}function qu(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function e0(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function t0(r,e,t,n){const s=[];for(;t<e+1+n;){const i=n0(r,t);s.push(i.result),t+=i.consumed,A(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function n0(r,e){A(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{A(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const s=e0(r,e+1,n);return t(e+1+n+s),t0(r,e,e+1+n,n+s)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),t0(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const s=e0(r,e+1,n);t(e+1+n+s);const i=N(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const s=N(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:qu(r[e])}}function lc(r){const e=O(r,"data"),t=n0(e,0);return b(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function r0(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function s0(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(s0(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=r0(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(O(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=r0(e.length);return t.unshift(183+t.length),t.concat(e)}const i0="0123456789abcdef";function Fs(r){let e="0x";for(const t of s0(r))e+=i0[t>>4],e+=i0[t&15];return e}function ed(r){const e=O(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=N(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Ce=32,uc=new Uint8Array(Ce),td=["then"],$i={};function Ds(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}const Ai=class Ai extends Array{constructor(...t){const n=t[0];let s=t[1],i=(t[2]||[]).slice(),a=!0;n!==$i&&(s=t,i=[],a=!1);super(s.length);y(this,bn,void 0);s.forEach((o,f)=>{this[f]=o});const c=i.reduce((o,f)=>(typeof f=="string"&&o.set(f,(o.get(f)||0)+1),o),new Map);if(x(this,bn,Object.freeze(s.map((o,f)=>{const u=i[f];return u!=null&&c.get(u)===1?u:null}))),!!a)return Object.freeze(this),new Proxy(this,{get:(o,f,u)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const h=L(f,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=o[h];return p instanceof Error&&Ds(`index ${h}`,p),p}if(td.indexOf(f)>=0)return Reflect.get(o,f,u);const d=o[f];if(d instanceof Function)return function(...h){return d.apply(this===u?o:this,h)};if(!(f in o))return o.getValue.apply(this===u?o:this,[f])}return Reflect.get(o,f,u)}})}toArray(){const t=[];return this.forEach((n,s)=>{n instanceof Error&&Ds(`index ${s}`,n),t.push(n)}),t}toObject(){return l(this,bn).reduce((t,n,s)=>(A(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in t||(t[n]=this.getValue(n)),t),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=[],i=[];for(let a=t;a<n;a++)s.push(this[a]),i.push(l(this,bn)[a]);return new Ai($i,s,i)}filter(t,n){const s=[],i=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&Ds(`index ${a}`,c),t.call(n,c,a,this)&&(s.push(c),i.push(l(this,bn)[a]))}return new Ai($i,s,i)}map(t,n){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Ds(`index ${i}`,a),s.push(t.call(n,a,i,this))}return s}getValue(t){const n=l(this,bn).indexOf(t);if(n===-1)return;const s=this[n];return s instanceof Error&&Ds(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new Ai($i,t,n)}};bn=new WeakMap;let qi=Ai;function a0(r){let e=Ae(r);return A(e.length<=Ce,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ce,offset:e.length}),e.length!==Ce&&(e=he(z([uc.slice(e.length%Ce),e]))),e}class kt{constructor(e,t,n,s){g(this,"name");g(this,"type");g(this,"localName");g(this,"dynamic");T(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){b(!1,e,this.localName,t)}}class dc{constructor(){y(this,Wr);y(this,Kt,void 0);y(this,Wn,void 0);x(this,Kt,[]),x(this,Wn,0)}get data(){return z(l(this,Kt))}get length(){return l(this,Wn)}appendWriter(e){return P(this,Wr,Xa).call(this,he(e.data))}writeBytes(e){let t=he(e);const n=t.length%Ce;return n&&(t=he(z([t,uc.slice(n)]))),P(this,Wr,Xa).call(this,t)}writeValue(e){return P(this,Wr,Xa).call(this,a0(e))}writeUpdatableValue(){const e=l(this,Kt).length;return l(this,Kt).push(uc),x(this,Wn,l(this,Wn)+Ce),t=>{l(this,Kt)[e]=a0(t)}}}Kt=new WeakMap,Wn=new WeakMap,Wr=new WeakSet,Xa=function(e){return l(this,Kt).push(e),x(this,Wn,l(this,Wn)+e.length),e.length};const Co=class Co{constructor(e,t){y(this,Qa);g(this,"allowLoose");y(this,Le,void 0);y(this,Qe,void 0);T(this,{allowLoose:!!t}),x(this,Le,he(e)),x(this,Qe,0)}get data(){return N(l(this,Le))}get dataLength(){return l(this,Le).length}get consumed(){return l(this,Qe)}get bytes(){return new Uint8Array(l(this,Le))}subReader(e){return new Co(l(this,Le).slice(l(this,Qe)+e),this.allowLoose)}readBytes(e,t){let n=P(this,Qa,vu).call(this,0,e,!!t);return x(this,Qe,l(this,Qe)+n.length),n.slice(0,e)}readValue(){return Wi(this.readBytes(Ce))}readIndex(){return Uu(this.readBytes(Ce))}};Le=new WeakMap,Qe=new WeakMap,Qa=new WeakSet,vu=function(e,t,n){let s=Math.ceil(t/Ce)*Ce;return l(this,Qe)+s>l(this,Le).length&&(this.allowLoose&&n&&l(this,Qe)+t<=l(this,Le).length?s=t:A(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:he(l(this,Le)),length:l(this,Le).length,offset:l(this,Qe)+s})),l(this,Le).slice(l(this,Qe),l(this,Qe)+s)};let hc=Co;function xc(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function nd(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function c0(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function rd(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xc(r.outputLen),xc(r.blockLen)}function sd(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function id(r,e){c0(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const q={number:xc,bool:nd,bytes:c0,hash:rd,exists:sd,output:id};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ea=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),ta=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),dt=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));const ad=async()=>{};async function o0(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);const i=Date.now()-n;i>=0&&i<e||(await ad(),n+=i)}}function cd(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Rn(r){if(typeof r=="string"&&(r=cd(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class na{clone(){return this._cloneInto()}}const od=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function f0(r,e){if(e!==void 0&&(typeof e!="object"||!od(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}function Ar(r){const e=n=>r().update(Rn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function fd(r){const e=(n,s)=>r(s).update(Rn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}class l0 extends na{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,q.hash(e);const n=Rn(t);if(this.iHash=e.create(),!(this.iHash instanceof na))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(s);i.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return q.exists(this),this.iHash.update(e),this}digestInto(e){q.exists(this),q.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bc=(r,e,t)=>new l0(r,e).update(t).digest();bc.create=(r,e)=>new l0(r,e);function ld(r,e,t,n){q.hash(r);const s=f0({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:c}=s;if(q.number(i),q.number(a),q.number(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const o=Rn(e),f=Rn(t),u=new Uint8Array(a),d=bc.create(r,o),h=d._cloneInto().update(f);return{c:i,dkLen:a,asyncTick:c,DK:u,PRF:d,PRFSalt:h}}function ud(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function pc(r,e,t,n){const{c:s,dkLen:i,DK:a,PRF:c,PRFSalt:o}=ld(r,e,t,n);let f;const u=new Uint8Array(4),d=ta(u),h=new Uint8Array(c.outputLen);for(let p=1,m=0;m<i;p++,m+=c.outputLen){const w=a.subarray(m,m+c.outputLen);d.setInt32(0,p,!1),(f=o._cloneInto(f)).update(u).digestInto(h),w.set(h.subarray(0,w.length));for(let E=1;E<s;E++){c._cloneInto(f).update(h).digestInto(h);for(let C=0;C<w.length;C++)w[C]^=h[C]}}return ud(c,o,a,f,h)}function dd(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(t>>s&i),c=Number(t&i),o=n?4:0,f=n?0:4;r.setUint32(e+o,a,n),r.setUint32(e+f,c,n)}class gc extends na{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ta(this.buffer)}update(e){q.exists(this);const{view:t,buffer:n,blockLen:s}=this;e=Rn(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const o=ta(e);for(;s<=i-a;a+=s)this.process(o,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){q.exists(this),q.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let o=a;o<s;o++)t[o]=0;dd(n,s-8,BigInt(this.length*8),i),this.process(n,0);const c=ta(e);this.get().forEach((o,f)=>c.setUint32(4*f,o,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%t&&e.buffer.set(n),e}}const hd=(r,e,t)=>r&e^~r&t,xd=(r,e,t)=>r&e^r&t^e&t,bd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),en=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tn=new Uint32Array(64);class pd extends gc{constructor(){super(64,32,8,!1),this.A=en[0]|0,this.B=en[1]|0,this.C=en[2]|0,this.D=en[3]|0,this.E=en[4]|0,this.F=en[5]|0,this.G=en[6]|0,this.H=en[7]|0}get(){const{A:e,B:t,C:n,D:s,E:i,F:a,G:c,H:o}=this;return[e,t,n,s,i,a,c,o]}set(e,t,n,s,i,a,c,o){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=o|0}process(e,t){for(let d=0;d<16;d++,t+=4)tn[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=tn[d-15],p=tn[d-2],m=dt(h,7)^dt(h,18)^h>>>3,w=dt(p,17)^dt(p,19)^p>>>10;tn[d]=w+tn[d-7]+m+tn[d-16]|0}let{A:n,B:s,C:i,D:a,E:c,F:o,G:f,H:u}=this;for(let d=0;d<64;d++){const h=dt(c,6)^dt(c,11)^dt(c,25),p=u+h+hd(c,o,f)+bd[d]+tn[d]|0,w=(dt(n,2)^dt(n,13)^dt(n,22))+xd(n,s,i)|0;u=f,f=o,o=c,c=a+p|0,a=i,i=s,s=n,n=p+w|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,o=o+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(n,s,i,a,c,o,f,u)}roundClean(){tn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ms=Ar(()=>new pd),ra=BigInt(2**32-1),yc=BigInt(32);function u0(r,e=!1){return e?{h:Number(r&ra),l:Number(r>>yc&ra)}:{h:Number(r>>yc&ra)|0,l:Number(r&ra)|0}}function gd(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:a}=u0(r[s],e);[t[s],n[s]]=[i,a]}return[t,n]}const yd=(r,e)=>BigInt(r>>>0)<<yc|BigInt(e>>>0),md=(r,e,t)=>r>>>t,wd=(r,e,t)=>r<<32-t|e>>>t,Ad=(r,e,t)=>r>>>t|e<<32-t,Ed=(r,e,t)=>r<<32-t|e>>>t,Cd=(r,e,t)=>r<<64-t|e>>>t-32,Pd=(r,e,t)=>r>>>t-32|e<<64-t,Nd=(r,e)=>e,Id=(r,e)=>r,vd=(r,e,t)=>r<<t|e>>>32-t,kd=(r,e,t)=>e<<t|r>>>32-t,Od=(r,e,t)=>e<<t-32|r>>>64-t,Td=(r,e,t)=>r<<t-32|e>>>64-t;function Rd(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const U={fromBig:u0,split:gd,toBig:yd,shrSH:md,shrSL:wd,rotrSH:Ad,rotrSL:Ed,rotrBH:Cd,rotrBL:Pd,rotr32H:Nd,rotr32L:Id,rotlSH:vd,rotlSL:kd,rotlBH:Od,rotlBL:Td,add:Rd,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,add5H:(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0,add5L:(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0)},[Sd,Bd]=U.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),nn=new Uint32Array(80),rn=new Uint32Array(80);class mc extends gc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:a,Dh:c,Dl:o,Eh:f,El:u,Fh:d,Fl:h,Gh:p,Gl:m,Hh:w,Hl:E}=this;return[e,t,n,s,i,a,c,o,f,u,d,h,p,m,w,E]}set(e,t,n,s,i,a,c,o,f,u,d,h,p,m,w,E){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=o|0,this.Eh=f|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=m|0,this.Hh=w|0,this.Hl=E|0}process(e,t){for(let I=0;I<16;I++,t+=4)nn[I]=e.getUint32(t),rn[I]=e.getUint32(t+=4);for(let I=16;I<80;I++){const Q=nn[I-15]|0,R=rn[I-15]|0,Y=U.rotrSH(Q,R,1)^U.rotrSH(Q,R,8)^U.shrSH(Q,R,7),de=U.rotrSL(Q,R,1)^U.rotrSL(Q,R,8)^U.shrSL(Q,R,7),j=nn[I-2]|0,Z=rn[I-2]|0,we=U.rotrSH(j,Z,19)^U.rotrBH(j,Z,61)^U.shrSH(j,Z,6),lt=U.rotrSL(j,Z,19)^U.rotrBL(j,Z,61)^U.shrSL(j,Z,6),Ze=U.add4L(de,lt,rn[I-7],rn[I-16]),ut=U.add4H(Ze,Y,we,nn[I-7],nn[I-16]);nn[I]=ut|0,rn[I]=Ze|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:c,Cl:o,Dh:f,Dl:u,Eh:d,El:h,Fh:p,Fl:m,Gh:w,Gl:E,Hh:C,Hl:B}=this;for(let I=0;I<80;I++){const Q=U.rotrSH(d,h,14)^U.rotrSH(d,h,18)^U.rotrBH(d,h,41),R=U.rotrSL(d,h,14)^U.rotrSL(d,h,18)^U.rotrBL(d,h,41),Y=d&p^~d&w,de=h&m^~h&E,j=U.add5L(B,R,de,Bd[I],rn[I]),Z=U.add5H(j,C,Q,Y,Sd[I],nn[I]),we=j|0,lt=U.rotrSH(n,s,28)^U.rotrBH(n,s,34)^U.rotrBH(n,s,39),Ze=U.rotrSL(n,s,28)^U.rotrBL(n,s,34)^U.rotrBL(n,s,39),ut=n&i^n&c^i&c,$t=s&a^s&o^a&o;C=w|0,B=E|0,w=p|0,E=m|0,p=d|0,m=h|0,{h:d,l:h}=U.add(f|0,u|0,Z|0,we|0),f=c|0,u=o|0,c=i|0,o=a|0,i=n|0,a=s|0;const Nt=U.add3L(we,Ze,$t);n=U.add3H(Nt,Z,lt,ut),s=Nt|0}({h:n,l:s}=U.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=U.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:o}=U.add(this.Ch|0,this.Cl|0,c|0,o|0),{h:f,l:u}=U.add(this.Dh|0,this.Dl|0,f|0,u|0),{h:d,l:h}=U.add(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:m}=U.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:w,l:E}=U.add(this.Gh|0,this.Gl|0,w|0,E|0),{h:C,l:B}=U.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,s,i,a,c,o,f,u,d,h,p,m,w,E,C,B)}roundClean(){nn.fill(0),rn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ud extends mc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Ld extends mc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const wc=Ar(()=>new mc);Ar(()=>new Ud),Ar(()=>new Ld);function Fd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const d0=Fd(),h0=d0.crypto||d0.msCrypto;function Dd(r){switch(r){case"sha256":return Ms.create();case"sha512":return wc.create()}b(!1,"invalid hashing algorithm name","algorithm",r)}function Md(r,e){const t={sha256:Ms,sha512:wc}[r];return b(t!=null,"invalid hmac algorithm","algorithm",r),bc.create(t,e)}function Gd(r,e,t,n,s){const i={sha256:Ms,sha512:wc}[s];return b(i!=null,"invalid pbkdf2 algorithm","algorithm",s),pc(i,r,e,{c:t,dkLen:n})}function Hd(r){A(h0!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),b(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return h0.getRandomValues(e),e}let x0=!1;const b0=function(r,e,t){return Md(r,e).update(t).digest()};let p0=b0;function Sn(r,e,t){const n=O(e,"key"),s=O(t,"data");return N(p0(r,n,s))}Sn._=b0,Sn.lock=function(){x0=!0},Sn.register=function(r){if(x0)throw new Error("computeHmac is locked");p0=r},Object.freeze(Sn);const[g0,y0,m0]=[[],[],[]],Kd=BigInt(0),Gs=BigInt(1),_d=BigInt(2),Vd=BigInt(7),Qd=BigInt(256),zd=BigInt(113);for(let r=0,e=Gs,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],g0.push(2*(5*n+t)),y0.push((r+1)*(r+2)/2%64);let s=Kd;for(let i=0;i<7;i++)e=(e<<Gs^(e>>Vd)*zd)%Qd,e&_d&&(s^=Gs<<(Gs<<BigInt(i))-Gs);m0.push(s)}const[Jd,jd]=U.split(m0,!0),w0=(r,e,t)=>t>32?U.rotlBH(r,e,t):U.rotlSH(r,e,t),A0=(r,e,t)=>t>32?U.rotlBL(r,e,t):U.rotlSL(r,e,t);function Wd(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,o=(a+2)%10,f=t[o],u=t[o+1],d=w0(f,u,1)^t[c],h=A0(f,u,1)^t[c+1];for(let p=0;p<50;p+=10)r[a+p]^=d,r[a+p+1]^=h}let s=r[2],i=r[3];for(let a=0;a<24;a++){const c=y0[a],o=w0(s,i,c),f=A0(s,i,c),u=g0[a];s=r[u],i=r[u+1],r[u]=o,r[u+1]=f}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)t[c]=r[a+c];for(let c=0;c<10;c++)r[a+c]^=~t[(c+2)%10]&t[(c+4)%10]}r[0]^=Jd[n],r[1]^=jd[n]}t.fill(0)}class sa extends na{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,q.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ea(this.state)}keccak(){Wd(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){q.exists(this);const{blockLen:t,state:n}=this;e=Rn(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(t-this.pos,s-i);for(let c=0;c<a;c++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,t&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){q.exists(this,!1),q.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return q.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new sa(t,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const sn=(r,e,t)=>Ar(()=>new sa(e,r,t));sn(6,144,224/8),sn(6,136,256/8),sn(6,104,384/8),sn(6,72,512/8),sn(1,144,224/8);const Yd=sn(1,136,256/8);sn(1,104,384/8),sn(1,72,512/8);const E0=(r,e,t)=>fd((n={})=>new sa(e,r,n.dkLen===void 0?t:n.dkLen,!0));E0(31,168,128/8),E0(31,136,256/8);let C0=!1;const P0=function(r){return Yd(r)};let N0=P0;function J(r){const e=O(r,"data");return N(N0(e))}J._=P0,J.lock=function(){C0=!0},J.register=function(r){if(C0)throw new TypeError("keccak256 is locked");N0=r},Object.freeze(J);const Zd=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),I0=Uint8Array.from({length:16},(r,e)=>e),Xd=I0.map(r=>(9*r+5)%16);let Ac=[I0],Ec=[Xd];for(let r=0;r<4;r++)for(let e of[Ac,Ec])e.push(e[r].map(t=>Zd[t]));const v0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),$d=Ac.map((r,e)=>r.map(t=>v0[e][t])),qd=Ec.map((r,e)=>r.map(t=>v0[e][t])),eh=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),th=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),ia=(r,e)=>r<<e|r>>>32-e;function k0(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const aa=new Uint32Array(16);class nh extends gc{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let p=0;p<16;p++,t+=4)aa[p]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,a=i,c=this.h2|0,o=c,f=this.h3|0,u=f,d=this.h4|0,h=d;for(let p=0;p<5;p++){const m=4-p,w=eh[p],E=th[p],C=Ac[p],B=Ec[p],I=$d[p],Q=qd[p];for(let R=0;R<16;R++){const Y=ia(n+k0(p,i,c,f)+aa[C[R]]+w,I[R])+d|0;n=d,d=f,f=ia(c,10)|0,c=i,i=Y}for(let R=0;R<16;R++){const Y=ia(s+k0(m,a,o,u)+aa[B[R]]+E,Q[R])+h|0;s=h,h=u,u=ia(o,10)|0,o=a,a=Y}}this.set(this.h1+c+u|0,this.h2+f+h|0,this.h3+d+s|0,this.h4+n+a|0,this.h0+i+o|0)}roundClean(){aa.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const rh=Ar(()=>new nh);let O0=!1;const T0=function(r){return rh(r)};let R0=T0;function Er(r){const e=O(r,"data");return N(R0(e))}Er._=T0,Er.lock=function(){O0=!0},Er.register=function(r){if(O0)throw new TypeError("ripemd160 is locked");R0=r},Object.freeze(Er);let S0=!1;const B0=function(r,e,t,n,s){return Gd(r,e,t,n,s)};let U0=B0;function an(r,e,t,n,s){const i=O(r,"password"),a=O(e,"salt");return N(U0(i,a,t,n,s))}an._=B0,an.lock=function(){S0=!0},an.register=function(r){if(S0)throw new Error("pbkdf2 is locked");U0=r},Object.freeze(an);let L0=!1;const F0=function(r){return new Uint8Array(Hd(r))};let D0=F0;function Ot(r){return D0(r)}Ot._=F0,Ot.lock=function(){L0=!0},Ot.register=function(r){if(L0)throw new Error("randomBytes is locked");D0=r},Object.freeze(Ot);const G=(r,e)=>r<<e|r>>>32-e;function M0(r,e,t,n,s,i){let a=r[e++]^t[n++],c=r[e++]^t[n++],o=r[e++]^t[n++],f=r[e++]^t[n++],u=r[e++]^t[n++],d=r[e++]^t[n++],h=r[e++]^t[n++],p=r[e++]^t[n++],m=r[e++]^t[n++],w=r[e++]^t[n++],E=r[e++]^t[n++],C=r[e++]^t[n++],B=r[e++]^t[n++],I=r[e++]^t[n++],Q=r[e++]^t[n++],R=r[e++]^t[n++],Y=a,de=c,j=o,Z=f,we=u,lt=d,Ze=h,ut=p,$t=m,Nt=w,ur=E,dr=C,hr=B,xr=I,br=Q,pr=R;for(let Iu=0;Iu<8;Iu+=2)we^=G(Y+hr|0,7),$t^=G(we+Y|0,9),hr^=G($t+we|0,13),Y^=G(hr+$t|0,18),Nt^=G(lt+de|0,7),xr^=G(Nt+lt|0,9),de^=G(xr+Nt|0,13),lt^=G(de+xr|0,18),br^=G(ur+Ze|0,7),j^=G(br+ur|0,9),Ze^=G(j+br|0,13),ur^=G(Ze+j|0,18),Z^=G(pr+dr|0,7),ut^=G(Z+pr|0,9),dr^=G(ut+Z|0,13),pr^=G(dr+ut|0,18),de^=G(Y+Z|0,7),j^=G(de+Y|0,9),Z^=G(j+de|0,13),Y^=G(Z+j|0,18),Ze^=G(lt+we|0,7),ut^=G(Ze+lt|0,9),we^=G(ut+Ze|0,13),lt^=G(we+ut|0,18),dr^=G(ur+Nt|0,7),$t^=G(dr+ur|0,9),Nt^=G($t+dr|0,13),ur^=G(Nt+$t|0,18),hr^=G(pr+br|0,7),xr^=G(hr+pr|0,9),br^=G(xr+hr|0,13),pr^=G(br+xr|0,18);s[i++]=a+Y|0,s[i++]=c+de|0,s[i++]=o+j|0,s[i++]=f+Z|0,s[i++]=u+we|0,s[i++]=d+lt|0,s[i++]=h+Ze|0,s[i++]=p+ut|0,s[i++]=m+$t|0,s[i++]=w+Nt|0,s[i++]=E+ur|0,s[i++]=C+dr|0,s[i++]=B+hr|0,s[i++]=I+xr|0,s[i++]=Q+br|0,s[i++]=R+pr|0}function Cr(r,e,t,n,s){let i=n+0,a=n+16*s;for(let c=0;c<16;c++)t[a+c]=r[e+(2*s-1)*16+c];for(let c=0;c<s;c++,i+=16,e+=16)M0(t,a,r,e,t,i),c>0&&(a+=16),M0(t,i,r,e+=16,t,a)}function G0(r,e,t){const n=f0({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:a,dkLen:c,asyncTick:o,maxmem:f,onProgress:u}=n;if(q.number(s),q.number(i),q.number(a),q.number(c),q.number(o),q.number(f),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const d=128*i,h=d/4;if(s<=1||s&s-1||s>=2**(d/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=d*(s+a);if(p>f)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${f} (maxmem)`);const m=pc(Ms,r,e,{c:1,dkLen:d*a}),w=ea(m),E=ea(new Uint8Array(d*s)),C=ea(new Uint8Array(d));let B=()=>{};if(u){const I=2*s*a,Q=Math.max(Math.floor(I/1e4),1);let R=0;B=()=>{R++,u&&(!(R%Q)||R===I)&&u(R/I)}}return{N:s,r:i,p:a,dkLen:c,blockSize32:h,V:E,B32:w,B:m,tmp:C,blockMixCb:B,asyncTick:o}}function H0(r,e,t,n,s){const i=pc(Ms,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function sh(r,e,t){const{N:n,r:s,p:i,dkLen:a,blockSize32:c,V:o,B32:f,B:u,tmp:d,blockMixCb:h}=G0(r,e,t);for(let p=0;p<i;p++){const m=c*p;for(let w=0;w<c;w++)o[w]=f[m+w];for(let w=0,E=0;w<n-1;w++)Cr(o,E,o,E+=c,s),h();Cr(o,(n-1)*c,f,m,s),h();for(let w=0;w<n;w++){const E=f[m+c-16]%n;for(let C=0;C<c;C++)d[C]=f[m+C]^o[E*c+C];Cr(d,0,f,m,s),h()}}return H0(r,a,u,o,d)}async function ih(r,e,t){const{N:n,r:s,p:i,dkLen:a,blockSize32:c,V:o,B32:f,B:u,tmp:d,blockMixCb:h,asyncTick:p}=G0(r,e,t);for(let m=0;m<i;m++){const w=c*m;for(let C=0;C<c;C++)o[C]=f[w+C];let E=0;await o0(n-1,p,C=>{Cr(o,E,o,E+=c,s),h()}),Cr(o,(n-1)*c,f,w,s),h(),await o0(n,p,C=>{const B=f[w+c-16]%n;for(let I=0;I<c;I++)d[I]=f[w+I]^o[B*c+I];Cr(d,0,f,w,s),h()})}return H0(r,a,u,o,d)}let K0=!1,_0=!1;const V0=async function(r,e,t,n,s,i,a){return await ih(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:a})},Q0=function(r,e,t,n,s,i){return sh(r,e,{N:t,r:n,p:s,dkLen:i})};let z0=V0,J0=Q0;async function Pr(r,e,t,n,s,i,a){const c=O(r,"passwd"),o=O(e,"salt");return N(await z0(c,o,t,n,s,i,a))}Pr._=V0,Pr.lock=function(){_0=!0},Pr.register=function(r){if(_0)throw new Error("scrypt is locked");z0=r},Object.freeze(Pr);function Nr(r,e,t,n,s,i){const a=O(r,"passwd"),c=O(e,"salt");return N(J0(a,c,t,n,s,i))}Nr._=Q0,Nr.lock=function(){K0=!0},Nr.register=function(r){if(K0)throw new Error("scryptSync is locked");J0=r},Object.freeze(Nr);const j0=function(r){return Dd("sha256").update(r).digest()};let W0=j0,Y0=!1;function qe(r){const e=O(r,"data");return N(W0(e))}qe._=j0,qe.lock=function(){Y0=!0},qe.register=function(r){if(Y0)throw new Error("sha256 is locked");W0=r},Object.freeze(qe),Object.freeze(qe);const ah=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const D=BigInt(0),X=BigInt(1),cn=BigInt(2),Hs=BigInt(3),Z0=BigInt(8),se=Object.freeze({a:D,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:X,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),X0=(r,e)=>(r+e/cn)/e,ca={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:e}=se,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-X*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,a=BigInt("0x100000000000000000000000000000000"),c=X0(i*r,e),o=X0(-n*r,e);let f=v(r-c*t-o*s,e),u=v(-c*n-o*i,e);const d=f>a,h=u>a;if(d&&(f=e-f),h&&(u=e-u),f>a||u>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:d,k1:f,k2neg:h,k2:u}}},et=32,Ir=32,ch=32,oa=et+1,fa=2*et+1;function $0(r){const{a:e,b:t}=se,n=v(r*r),s=v(n*r);return v(s+e*r+t)}const la=se.a===D;class q0 extends Error{constructor(e){super(e)}}function ef(r){if(!(r instanceof _))throw new TypeError("JacobianPoint expected")}class _{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof V))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(V.ZERO)?_.ZERO:new _(e.x,e.y,X)}static toAffineBatch(e){const t=dh(e.map(n=>n.z));return e.map((n,s)=>n.toAffine(t[s]))}static normalizeZ(e){return _.toAffineBatch(e).map(_.fromAffine)}equals(e){ef(e);const{x:t,y:n,z:s}=this,{x:i,y:a,z:c}=e,o=v(s*s),f=v(c*c),u=v(t*f),d=v(i*o),h=v(v(n*c)*f),p=v(v(a*s)*o);return u===d&&h===p}negate(){return new _(this.x,v(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,s=v(e*e),i=v(t*t),a=v(i*i),c=e+i,o=v(cn*(v(c*c)-s-a)),f=v(Hs*s),u=v(f*f),d=v(u-cn*o),h=v(f*(o-d)-Z0*a),p=v(cn*t*n);return new _(d,h,p)}add(e){ef(e);const{x:t,y:n,z:s}=this,{x:i,y:a,z:c}=e;if(i===D||a===D)return this;if(t===D||n===D)return e;const o=v(s*s),f=v(c*c),u=v(t*f),d=v(i*o),h=v(v(n*c)*f),p=v(v(a*s)*o),m=v(d-u),w=v(p-h);if(m===D)return w===D?this.double():_.ZERO;const E=v(m*m),C=v(m*E),B=v(u*E),I=v(w*w-C-cn*B),Q=v(w*(B-I)-h*C),R=v(s*c*m);return new _(I,Q,R)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=_.ZERO;if(typeof e=="bigint"&&e===D)return t;let n=rf(e);if(n===X)return this;if(!la){let d=t,h=this;for(;n>D;)n&X&&(d=d.add(h)),h=h.double(),n>>=X;return d}let{k1neg:s,k1:i,k2neg:a,k2:c}=ca.splitScalar(n),o=t,f=t,u=this;for(;i>D||c>D;)i&X&&(o=o.add(u)),c&X&&(f=f.add(u)),u=u.double(),i>>=X,c>>=X;return s&&(o=o.negate()),a&&(f=f.negate()),f=new _(v(f.x*ca.beta),f.y,f.z),o.add(f)}precomputeWindow(e){const t=la?128/e+1:256/e+1,n=[];let s=this,i=s;for(let a=0;a<t;a++){i=s,n.push(i);for(let c=1;c<2**(e-1);c++)i=i.add(s),n.push(i);s=i.double()}return n}wNAF(e,t){!t&&this.equals(_.BASE)&&(t=V.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=t&&Cc.get(t);s||(s=this.precomputeWindow(n),t&&n!==1&&(s=_.normalizeZ(s),Cc.set(t,s)));let i=_.ZERO,a=_.BASE;const c=1+(la?128/n:256/n),o=2**(n-1),f=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<c;h++){const p=h*o;let m=Number(e&f);e>>=d,m>o&&(m-=u,e+=X);const w=p,E=p+Math.abs(m)-1,C=h%2!==0,B=m<0;m===0?a=a.add(ua(C,s[w])):i=i.add(ua(B,s[E]))}return{p:i,f:a}}multiply(e,t){let n=rf(e),s,i;if(la){const{k1neg:a,k1:c,k2neg:o,k2:f}=ca.splitScalar(n);let{p:u,f:d}=this.wNAF(c,t),{p:h,f:p}=this.wNAF(f,t);u=ua(a,u),h=ua(o,h),h=new _(v(h.x*ca.beta),h.y,h.z),s=u.add(h),i=d.add(p)}else{const{p:a,f:c}=this.wNAF(n,t);s=a,i=c}return _.normalizeZ([s,i])[0]}toAffine(e){const{x:t,y:n,z:s}=this,i=this.equals(_.ZERO);e==null&&(e=i?Z0:Vs(s));const a=e,c=v(a*a),o=v(c*a),f=v(t*c),u=v(n*o),d=v(s*a);if(i)return V.ZERO;if(d!==X)throw new Error("invZ was invalid");return new V(f,u)}}_.BASE=new _(se.Gx,se.Gy,X),_.ZERO=new _(D,X,D);function ua(r,e){const t=e.negate();return r?t:e}const Cc=new WeakMap;class V{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Cc.delete(this)}hasEvenY(){return this.y%cn===D}static fromCompressedHex(e){const t=e.length===32,n=fn(t?e:e.subarray(1));if(!Nc(n))throw new Error("Point is not on curve");const s=$0(n);let i=uh(s);const a=(i&X)===X;t?a&&(i=v(-i)):(e[0]&1)===1!==a&&(i=v(-i));const c=new V(n,i);return c.assertValidity(),c}static fromUncompressedHex(e){const t=fn(e.subarray(1,et+1)),n=fn(e.subarray(et+1,et*2+1)),s=new V(t,n);return s.assertValidity(),s}static fromHex(e){const t=_s(e),n=t.length,s=t[0];if(n===et)return this.fromCompressedHex(t);if(n===oa&&(s===2||s===3))return this.fromCompressedHex(t);if(n===fa&&s===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${oa} compressed bytes or ${fa} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return V.BASE.multiply(Js(e))}static fromSignature(e,t,n){const{r:s,s:i}=gh(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const a=sf(_s(e)),{n:c}=se,o=n===2||n===3?s+c:s,f=Vs(o,c),u=v(-a*f,c),d=v(i*f,c),h=n&1?"03":"02",p=V.fromHex(h+Or(o)),m=V.BASE.multiplyAndAddUnsafe(p,u,d);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(e=!1){return Bn(this.toHex(e))}toHex(e=!1){const t=Or(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Or(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Nc(t)||!Nc(n))throw new Error(e);const s=v(n*n),i=$0(t);if(v(s-i)!==D)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new V(this.x,v(-this.y))}double(){return _.fromAffine(this).double().toAffine()}add(e){return _.fromAffine(this).add(_.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return _.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const s=_.fromAffine(this),i=t===D||t===X||this!==V.BASE?s.multiplyUnsafe(t):s.multiply(t),a=_.fromAffine(e).multiplyUnsafe(n),c=i.add(a);return c.equals(_.ZERO)?void 0:c.toAffine()}}V.BASE=new V(se.Gx,se.Gy),V.ZERO=new V(D,D);function tf(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function nf(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${kr(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:fn(t),left:r.subarray(e+2)}}function oh(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${kr(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=nf(r.subarray(2)),{data:n,left:s}=nf(t);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${kr(s)}`);return{r:e,s:n}}let vr=class $a{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const s=t?kr(e):e;if(s.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new $a(da(s.slice(0,64)),da(s.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s}=oh(t?e:Bn(e));return new $a(n,s)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!zs(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!zs(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=se.n>>X;return this.s>e}normalizeS(){return this.hasHighS()?new $a(this.r,v(-this.s,se.n)):this}toDERRawBytes(){return Bn(this.toDERHex())}toDERHex(){const e=tf(Ks(this.s)),t=tf(Ks(this.r)),n=e.length/2,s=t.length/2,i=Ks(n),a=Ks(s);return`30${Ks(s+n+4)}02${a}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Bn(this.toCompactHex())}toCompactHex(){return Or(this.r)+Or(this.s)}};function on(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,s)=>n+s.length,0),t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const i=r[n];t.set(i,s),s+=i.length}return t}const fh=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function kr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=fh[r[t]];return e}const lh=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Or(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(D<=r&&r<lh))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Pc(r){const e=Bn(Or(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Ks(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function da(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Bn(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,s=r.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function fn(r){return da(kr(r))}function _s(r){return r instanceof Uint8Array?Uint8Array.from(r):Bn(r)}function rf(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&zs(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function v(r,e=se.P){const t=r%e;return t>=D?t:e+t}function Me(r,e){const{P:t}=se;let n=r;for(;e-- >D;)n*=n,n%=t;return n}function uh(r){const{P:e}=se,t=BigInt(6),n=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),o=r*r*r%e,f=o*o*r%e,u=Me(f,Hs)*f%e,d=Me(u,Hs)*f%e,h=Me(d,cn)*o%e,p=Me(h,n)*h%e,m=Me(p,s)*p%e,w=Me(m,a)*m%e,E=Me(w,c)*w%e,C=Me(E,a)*m%e,B=Me(C,Hs)*f%e,I=Me(B,i)*p%e,Q=Me(I,t)*o%e,R=Me(Q,cn);if(R*R%e!==r)throw new Error("Cannot find square root");return R}function Vs(r,e=se.P){if(r===D||e<=D)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=v(r,e),n=e,s=D,i=X;for(;t!==D;){const c=n/t,o=n%t,f=s-i*c;n=t,t=o,s=i,i=f}if(n!==X)throw new Error("invert: does not exist");return v(s,e)}function dh(r,e=se.P){const t=new Array(r.length),n=r.reduce((i,a,c)=>a===D?i:(t[c]=i,v(i*a,e)),X),s=Vs(n,e);return r.reduceRight((i,a,c)=>a===D?i:(t[c]=v(i*t[c],e),v(i*a,e)),s),t}function hh(r){const e=r.length*8-Ir*8,t=fn(r);return e>0?t>>BigInt(e):t}function sf(r,e=!1){const t=hh(r);if(e)return t;const{n}=se;return t>=n?t-n:t}let Tr,Qs;class xh{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return ln.hmacSha256(this.k,...e)}hmacSync(...e){return Qs(this.k,...e)}checkSync(){if(typeof Qs!="function")throw new q0("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return on(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return on(...t)}}function zs(r){return D<r&&r<se.n}function Nc(r){return D<r&&r<se.P}function bh(r,e,t,n=!0){const{n:s}=se,i=sf(r,!0);if(!zs(i))return;const a=Vs(i,s),c=V.BASE.multiply(i),o=v(c.x,s);if(o===D)return;const f=v(a*v(e+t*o,s),s);if(f===D)return;let u=new vr(o,f),d=(c.x===u.r?0:2)|Number(c.y&X);return n&&u.hasHighS()&&(u=u.normalizeS(),d^=1),{sig:u,recovery:d}}function Js(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Ir)throw new Error("Expected 32 bytes of private key");e=da(r)}else if(r instanceof Uint8Array){if(r.length!==Ir)throw new Error("Expected 32 bytes of private key");e=fn(r)}else throw new TypeError("Expected valid private key");if(!zs(e))throw new Error("Expected private key: 0 < key < n");return e}function ph(r){return r instanceof V?(r.assertValidity(),r):V.fromHex(r)}function gh(r){if(r instanceof vr)return r.assertValidity(),r;try{return vr.fromDER(r)}catch{return vr.fromCompact(r)}}function yh(r,e=!1){return V.fromPrivateKey(r).toRawBytes(e)}function mh(r,e,t,n=!1){return V.fromSignature(r,e,t).toRawBytes(n)}function af(r){const e=r instanceof Uint8Array,t=typeof r=="string",n=(e||t)&&r.length;return e?n===oa||n===fa:t?n===oa*2||n===fa*2:r instanceof V}function wh(r,e,t=!1){if(af(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!af(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=ph(e);return n.assertValidity(),n.multiply(Js(r)).toRawBytes(t)}function cf(r){const e=r.length>et?r.slice(0,et):r;return fn(e)}function Ah(r){const e=cf(r),t=v(e,se.n);return of(t<D?e:t)}function of(r){return Pc(r)}function Eh(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);const n=_s(r),s=Js(e),i=[of(s),Ah(n)];if(t!=null){t===!0&&(t=ln.randomBytes(et));const o=_s(t);if(o.length!==et)throw new Error(`sign: Expected ${et} bytes of extra data`);i.push(o)}const a=on(...i),c=cf(n);return{seed:a,m:c,d:s}}function Ch(r,e){const{sig:t,recovery:n}=r,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},e),a=s?t.toDERRawBytes():t.toCompactRawBytes();return i?[a,n]:a}function Ph(r,e,t={}){const{seed:n,m:s,d:i}=Eh(r,e,t.extraEntropy),a=new xh(ch,Ir);a.reseedSync(n);let c;for(;!(c=bh(a.generateSync(),s,i,t.canonical));)a.reseedSync();return Ch(c,t)}V.BASE._setWindowSize(8);const Re={node:ah,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ha={},ln={bytesToHex:kr,hexToBytes:Bn,concatBytes:on,mod:v,invert:Vs,isValidPrivateKey(r){try{return Js(r),!0}catch{return!1}},_bigintTo32Bytes:Pc,_normalizePrivateKey:Js,hashToPrivateKey:r=>{r=_s(r);const e=Ir+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const t=v(fn(r),se.n-X)+X;return Pc(t)},randomBytes:(r=32)=>{if(Re.web)return Re.web.getRandomValues(new Uint8Array(r));if(Re.node){const{randomBytes:e}=Re.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ln.hashToPrivateKey(ln.randomBytes(Ir+8)),precompute(r=8,e=V.BASE){const t=e===V.BASE?e:new V(e.x,e.y);return t._setWindowSize(r),t.multiply(Hs),t},sha256:async(...r)=>{if(Re.web){const e=await Re.web.subtle.digest("SHA-256",on(...r));return new Uint8Array(e)}else if(Re.node){const{createHash:e}=Re.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Re.web){const t=await Re.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=on(...e),s=await Re.web.subtle.sign("HMAC",t,n);return new Uint8Array(s)}else if(Re.node){const{createHmac:t}=Re.node,n=t("sha256",r);return e.forEach(s=>n.update(s)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=ha[r];if(t===void 0){const n=await ln.sha256(Uint8Array.from(r,s=>s.charCodeAt(0)));t=on(n,n),ha[r]=t}return ln.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof Tr!="function")throw new q0("sha256Sync is undefined, you need to set it");let t=ha[r];if(t===void 0){const n=Tr(Uint8Array.from(r,s=>s.charCodeAt(0)));t=on(n,n),ha[r]=t}return Tr(t,...e)},_JacobianPoint:_};Object.defineProperties(ln,{sha256Sync:{configurable:!1,get(){return Tr},set(r){Tr||(Tr=r)}},hmacSha256Sync:{configurable:!1,get(){return Qs},set(r){Qs||(Qs=r)}}});const Ic="0x0000000000000000000000000000000000000000",ff="0x0000000000000000000000000000000000000000000000000000000000000000",Nh=`Ethereum Signed Message:
`,lf=BigInt(0),uf=BigInt(1),df=BigInt(2),hf=BigInt(27),xf=BigInt(28),xa=BigInt(35),Rr={};function bf(r){return Tn(Ae(r),32)}const at=class at{constructor(e,t,n,s){y(this,Yr,void 0);y(this,Zr,void 0);y(this,Xr,void 0);y(this,Yn,void 0);On(e,Rr,"Signature"),x(this,Yr,t),x(this,Zr,n),x(this,Xr,s),x(this,Yn,null)}get r(){return l(this,Yr)}set r(e){b(yr(e)===32,"invalid r","value",e),x(this,Yr,N(e))}get s(){return l(this,Zr)}set s(e){b(yr(e)===32,"invalid s","value",e);const t=N(e);b(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),x(this,Zr,t)}get v(){return l(this,Xr)}set v(e){const t=L(e,"value");b(t===27||t===28,"invalid v","v",e),x(this,Xr,t)}get networkV(){return l(this,Yn)}get legacyChainId(){const e=this.networkV;return e==null?null:at.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=O(this.s);return this.yParity&&(e[0]|=128),N(e)}get compactSerialized(){return z([this.r,this.yParityAndS])}get serialized(){return z([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new at(Rr,this.r,this.s,this.v);return this.networkV&&x(e,Yn,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=S(e,"v");return t==hf||t==xf?lf:(b(t>=xa,"invalid EIP-155 v","v",e),(t-xa)/df)}static getChainIdV(e,t){return S(e)*df+BigInt(35+t-27)}static getNormalizedV(e){const t=S(e);return t===lf||t===hf?27:t===uf||t===xf?28:(b(t>=xa,"invalid v","v",e),t&uf?27:28)}static from(e){function t(f,u){b(f,u,"signature",e)}if(e==null)return new at(Rr,ff,ff,27);if(typeof e=="string"){const f=O(e,"signature");if(f.length===64){const u=N(f.slice(0,32)),d=f.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new at(Rr,u,N(d),h)}if(f.length===65){const u=N(f.slice(0,32)),d=f.slice(32,64);t((d[0]&128)===0,"non-canonical s");const h=at.getNormalizedV(f[64]);return new at(Rr,u,N(d),h)}t(!1,"invalid raw signature length")}if(e instanceof at)return e.clone();const n=e.r;t(n!=null,"missing r");const s=bf(n),i=function(f,u){if(f!=null)return bf(f);if(u!=null){t($(u,32),"invalid yParityAndS");const d=O(u);return d[0]&=127,N(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((O(i)[0]&128)==0,"non-canonical s");const{networkV:a,v:c}=function(f,u,d){if(f!=null){const h=S(f);return{networkV:h>=xa?h:void 0,v:at.getNormalizedV(h)}}if(u!=null)return t($(u,32),"invalid yParityAndS"),{v:O(u)[0]&128?28:27};if(d!=null){switch(L(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new at(Rr,s,i,c);return a&&x(o,Yn,a),t(e.yParity==null||L(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}};Yr=new WeakMap,Zr=new WeakMap,Xr=new WeakMap,Yn=new WeakMap;let tt=at;ln.hmacSha256Sync=function(r,...e){return O(Sn("sha256",r,z(e)))};const Zn=class Zn{constructor(e){y(this,_t,void 0);b(yr(e)===32,"invalid private key","privateKey","[REDACTED]"),x(this,_t,N(e))}get privateKey(){return l(this,_t)}get publicKey(){return Zn.computePublicKey(l(this,_t))}get compressedPublicKey(){return Zn.computePublicKey(l(this,_t),!0)}sign(e){b(yr(e)===32,"invalid digest length","digest",e);const[t,n]=Ph(he(e),he(l(this,_t)),{recovered:!0,canonical:!0}),s=vr.fromHex(t);return tt.from({r:It("0x"+s.r.toString(16),32),s:It("0x"+s.s.toString(16),32),v:n?28:27})}computeSharedSecret(e){const t=Zn.computePublicKey(e);return N(wh(he(l(this,_t)),O(t)))}static computePublicKey(e,t){let n=O(e,"key");if(n.length===32){const i=yh(n,!!t);return N(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=V.fromHex(n);return N(s.toRawBytes(t))}static recoverPublicKey(e,t){b(yr(e)===32,"invalid digest length","digest",e);const n=tt.from(t),s=vr.fromCompact(he(z([n.r,n.s]))).toDERRawBytes(),i=mh(he(e),s,n.yParity);return b(i!=null,"invalid signature for digest","signature",t),N(i)}static addPoints(e,t,n){const s=V.fromHex(Zn.computePublicKey(e).substring(2)),i=V.fromHex(Zn.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}};_t=new WeakMap;let ht=Zn;const Ih=BigInt(0),vh=BigInt(36);function pf(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const n=O(J(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const vc={};for(let r=0;r<10;r++)vc[String(r)]=String(r);for(let r=0;r<26;r++)vc[String.fromCharCode(65+r)]=String(10+r);const gf=15;function kh(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>vc[n]).join("");for(;e.length>=gf;){let n=e.substring(0,gf);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Oh=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function Th(r){r=r.toLowerCase();let e=Ih;for(let t=0;t<r.length;t++)e=e*vh+Oh[r[t]];return e}function F(r){if(b(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=pf(r);return b(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){b(r.substring(2,4)===kh(r),"bad icap checksum","address",r);let e=Th(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return pf("0x"+e)}b(!1,"invalid address","address",r)}function Rh(r){const e=F(r.from);let n=S(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,F(W(J(Fs([e,n])),12))}function yf(r){return r&&typeof r.getAddress=="function"}async function kc(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(A(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),b(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),F(t)}function xe(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?F(r):(A(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),kc(r,e.resolveName(r)));if(yf(r))return kc(r,r.getAddress());if(r&&typeof r.then=="function")return kc(r,r);b(!1,"unsupported addressable value","target",r)}const Tt={};function k(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new be(Tt,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function H(r,e){return new be(Tt,`bytes${e||""}`,r,{size:e})}const mf=Symbol.for("_ethers_typed"),Vt=class Vt{constructor(e,t,n,s){g(this,"type");g(this,"value");y(this,Xn,void 0);g(this,"_typedSymbol");s==null&&(s=null),On(Tt,e,"Typed"),T(this,{_typedSymbol:mf,type:t,value:n}),x(this,Xn,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return l(this,Xn)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return l(this,Xn)===!0?-1:l(this,Xn)===!1?this.value.length:null}static from(e,t){return new Vt(Tt,e,t)}static uint8(e){return k(e,8)}static uint16(e){return k(e,16)}static uint24(e){return k(e,24)}static uint32(e){return k(e,32)}static uint40(e){return k(e,40)}static uint48(e){return k(e,48)}static uint56(e){return k(e,56)}static uint64(e){return k(e,64)}static uint72(e){return k(e,72)}static uint80(e){return k(e,80)}static uint88(e){return k(e,88)}static uint96(e){return k(e,96)}static uint104(e){return k(e,104)}static uint112(e){return k(e,112)}static uint120(e){return k(e,120)}static uint128(e){return k(e,128)}static uint136(e){return k(e,136)}static uint144(e){return k(e,144)}static uint152(e){return k(e,152)}static uint160(e){return k(e,160)}static uint168(e){return k(e,168)}static uint176(e){return k(e,176)}static uint184(e){return k(e,184)}static uint192(e){return k(e,192)}static uint200(e){return k(e,200)}static uint208(e){return k(e,208)}static uint216(e){return k(e,216)}static uint224(e){return k(e,224)}static uint232(e){return k(e,232)}static uint240(e){return k(e,240)}static uint248(e){return k(e,248)}static uint256(e){return k(e,256)}static uint(e){return k(e,256)}static int8(e){return k(e,-8)}static int16(e){return k(e,-16)}static int24(e){return k(e,-24)}static int32(e){return k(e,-32)}static int40(e){return k(e,-40)}static int48(e){return k(e,-48)}static int56(e){return k(e,-56)}static int64(e){return k(e,-64)}static int72(e){return k(e,-72)}static int80(e){return k(e,-80)}static int88(e){return k(e,-88)}static int96(e){return k(e,-96)}static int104(e){return k(e,-104)}static int112(e){return k(e,-112)}static int120(e){return k(e,-120)}static int128(e){return k(e,-128)}static int136(e){return k(e,-136)}static int144(e){return k(e,-144)}static int152(e){return k(e,-152)}static int160(e){return k(e,-160)}static int168(e){return k(e,-168)}static int176(e){return k(e,-176)}static int184(e){return k(e,-184)}static int192(e){return k(e,-192)}static int200(e){return k(e,-200)}static int208(e){return k(e,-208)}static int216(e){return k(e,-216)}static int224(e){return k(e,-224)}static int232(e){return k(e,-232)}static int240(e){return k(e,-240)}static int248(e){return k(e,-248)}static int256(e){return k(e,-256)}static int(e){return k(e,-256)}static bytes1(e){return H(e,1)}static bytes2(e){return H(e,2)}static bytes3(e){return H(e,3)}static bytes4(e){return H(e,4)}static bytes5(e){return H(e,5)}static bytes6(e){return H(e,6)}static bytes7(e){return H(e,7)}static bytes8(e){return H(e,8)}static bytes9(e){return H(e,9)}static bytes10(e){return H(e,10)}static bytes11(e){return H(e,11)}static bytes12(e){return H(e,12)}static bytes13(e){return H(e,13)}static bytes14(e){return H(e,14)}static bytes15(e){return H(e,15)}static bytes16(e){return H(e,16)}static bytes17(e){return H(e,17)}static bytes18(e){return H(e,18)}static bytes19(e){return H(e,19)}static bytes20(e){return H(e,20)}static bytes21(e){return H(e,21)}static bytes22(e){return H(e,22)}static bytes23(e){return H(e,23)}static bytes24(e){return H(e,24)}static bytes25(e){return H(e,25)}static bytes26(e){return H(e,26)}static bytes27(e){return H(e,27)}static bytes28(e){return H(e,28)}static bytes29(e){return H(e,29)}static bytes30(e){return H(e,30)}static bytes31(e){return H(e,31)}static bytes32(e){return H(e,32)}static address(e){return new Vt(Tt,"address",e)}static bool(e){return new Vt(Tt,"bool",!!e)}static bytes(e){return new Vt(Tt,"bytes",e)}static string(e){return new Vt(Tt,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Vt(Tt,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===mf}static dereference(e,t){if(Vt.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Xn=new WeakMap;let be=Vt;class Sh extends kt{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=be.dereference(t,"string");try{n=F(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return F(It(e.readValue(),20))}}class Bh extends kt{constructor(t){super(t.name,t.type,"_",t.dynamic);g(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}}function wf(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let o={};n=e.map(f=>{const u=f.localName;return A(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),A(!o[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),o[u]=!0,t[u]})}else b(!1,"invalid tuple value","tuple",t);b(e.length===n.length,"types/value length mismatch","tuple",t);let s=new dc,i=new dc,a=[];e.forEach((o,f)=>{let u=n[f];if(o.dynamic){let d=i.length;o.encode(i,u);let h=s.writeUpdatableValue();a.push(p=>{h(p+d)})}else o.encode(s,u)}),a.forEach(o=>{o(s.length)});let c=r.appendWriter(s);return c+=r.appendWriter(i),c}function Af(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let c=r.readIndex(),o=s.subReader(c);try{a=i.decode(o)}catch(f){if(De(f,"BUFFER_OVERRUN"))throw f;a=f,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(r)}catch(c){if(De(c,"BUFFER_OVERRUN"))throw c;a=c,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");t.push(a),n.push(i.localName||null)}),qi.fromItems(t,n)}class Uh extends kt{constructor(t,n,s){const i=t.type+"["+(n>=0?n:"")+"]",a=n===-1||t.dynamic;super("array",i,s,a);g(this,"coder");g(this,"length");T(this,{coder:t,length:n})}defaultValue(){const t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){const s=be.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),Mo(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let c=0;c<s.length;c++)a.push(this.coder);return wf(t,a,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),A(n*Ce<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*Ce,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Bh(this.coder));return Af(t,s)}}class Lh extends kt{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=be.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Ef extends kt{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=he(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Fh extends Ef{constructor(e){super("bytes",e)}decode(e){return N(super.decode(e))}}class Dh extends kt{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);g(this,"size");T(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=he(be.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return N(t.readBytes(this.size))}}const Mh=new Uint8Array([]);class Gh extends kt{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Mh)}decode(e){return e.readBytes(0),null}}const Hh=BigInt(0),Kh=BigInt(1),_h=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Vh extends kt{constructor(t,n,s){const i=(n?"int":"uint")+t*8;super(i,i,s,!1);g(this,"size");g(this,"signed");T(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=S(be.dereference(n,this.type)),i=Ls(_h,Ce*8);if(this.signed){let a=Ls(i,this.size*8-1);(s>a||s<-(a+Kh))&&this._throwError("value out-of-bounds",n),s=Qo(s,8*Ce)}else(s<Hh||s>Ls(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=Ls(t.readValue(),this.size*8);return this.signed&&(n=Bu(n,this.size*8)),n}}class Qh extends Ef{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Ee(be.dereference(t,"string")))}decode(e){return oc(super.decode(e))}}class ba extends kt{constructor(t,n){let s=!1;const i=[];t.forEach(c=>{c.dynamic&&(s=!0),i.push(c.type)});const a="tuple("+i.join(",")+")";super("tuple",a,n,s);g(this,"coders");T(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),t[a]==null&&(t[a]=t[i]))}),Object.freeze(t)}encode(t,n){const s=be.dereference(n,"tuple");return wf(t,this.coders,s)}decode(t){return Af(t,this.coders)}}function Rt(r){return J(Ee(r))}function zh(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,i=[0,1];for(let R=1;R<n;R++)i.push(s+=t());let a=t(),c=e;e+=a;let o=0,f=0;function u(){return o==0&&(f=f<<8|r[e++],o=8),f>>--o&1}const d=31,h=2**d,p=h>>>1,m=p>>1,w=h-1;let E=0;for(let R=0;R<d;R++)E=E<<1|u();let C=[],B=0,I=h;for(;;){let R=Math.floor(((E-B+1)*s-1)/I),Y=0,de=n;for(;de-Y>1;){let we=Y+de>>>1;R<i[we]?de=we:Y=we}if(Y==0)break;C.push(Y);let j=B+Math.floor(I*i[Y]/s),Z=B+Math.floor(I*i[Y+1]/s)-1;for(;!((j^Z)&p);)E=E<<1&w|u(),j=j<<1&w,Z=Z<<1&w|1;for(;j&~Z&m;)E=E&p|E<<1&w>>>1|u(),j=j<<1^p,Z=(Z^p)<<1|p|1;B=j,I=1+Z-j}let Q=n-4;return C.map(R=>{switch(R-Q){case 3:return Q+65792+(r[c++]<<16|r[c++]<<8|r[c++]);case 2:return Q+256+(r[c++]<<8|r[c++]);case 1:return Q+r[c++];default:return R-1}})}function Jh(r){let e=0;return()=>r[e++]}function Cf(r){return Jh(zh(jh(r)))}function jh(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,i=0,a=0,c=0;s<t;s++)c=c<<6|e[r.charCodeAt(s)],a+=6,a>=8&&(n[i++]=c>>(a-=8));return n}function Wh(r){return r&1?~r>>1:r>>1}function Yh(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=Wh(e());return t}function un(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function Pf(r){return js(()=>{let e=un(r);if(e.length)return e})}function Nf(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(Zh(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(Xh(t,r))}return e.flat()}function js(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function If(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)Yh(r,t).forEach((i,a)=>n[a].push(i));return n}function Zh(r,e){let t=1+e(),n=e(),s=js(e);return If(s.length,1+r,e).flatMap((a,c)=>{let[o,...f]=a;return Array(s[c]).fill().map((u,d)=>{let h=d*n;return[o+d*t,f.map(p=>p+h)]})})}function Xh(r,e){let t=1+e();return If(t,1+r,e).map(s=>[s[0],s.slice(1)])}var Se=Cf("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");const vf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),kf=4;function $h(r){return r.toString(16).toUpperCase().padStart(2,"0")}function Of(r){return`{${$h(r)}}`}function qh(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Ws(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}var Oc=Cf("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");function Ys(r){return r>>24&255}function Tf(r){return r&16777215}const ex=new Map(Pf(Oc).flatMap((r,e)=>r.map(t=>[t,e+1<<24]))),tx=new Set(un(Oc)),Rf=new Map,Tc=new Map;for(let[r,e]of Nf(Oc)){if(!tx.has(r)&&e.length==2){let[t,n]=e,s=Tc.get(t);s||(s=new Map,Tc.set(t,s)),s.set(n,r)}Rf.set(r,e.reverse())}const Zs=44032,pa=4352,ga=4449,ya=4519,Sf=19,Bf=21,Sr=28,ma=Bf*Sr,nx=Sf*ma,rx=Zs+nx,sx=pa+Sf,ix=ga+Bf,ax=ya+Sr;function Uf(r){return r>=Zs&&r<rx}function cx(r,e){if(r>=pa&&r<sx&&e>=ga&&e<ix)return Zs+(r-pa)*ma+(e-ga)*Sr;if(Uf(r)&&e>ya&&e<ax&&(r-Zs)%Sr==0)return r+(e-ya);{let t=Tc.get(r);return t&&(t=t.get(e),t)?t:-1}}function Lf(r){let e=[],t=[],n=!1;function s(i){let a=ex.get(i);a&&(n=!0,i|=a),e.push(i)}for(let i of r)for(;;){if(i<128)e.push(i);else if(Uf(i)){let a=i-Zs,c=a/ma|0,o=a%ma/Sr|0,f=a%Sr;s(pa+c),s(ga+o),f>0&&s(ya+f)}else{let a=Rf.get(i);a?t.push(...a):s(i)}if(!t.length)break;i=t.pop()}if(n&&e.length>1){let i=Ys(e[0]);for(let a=1;a<e.length;a++){let c=Ys(e[a]);if(c==0||i<=c){i=c;continue}let o=a-1;for(;;){let f=e[o+1];if(e[o+1]=e[o],e[o]=f,!o||(i=Ys(e[--o]),i<=c))break}i=Ys(e[a])}}return e}function ox(r){let e=[],t=[],n=-1,s=0;for(let i of r){let a=Ys(i),c=Tf(i);if(n==-1)a==0?n=c:e.push(c);else if(s>0&&s>=a)a==0?(e.push(n,...t),t.length=0,n=c):t.push(c),s=a;else{let o=cx(n,c);o>=0?n=o:s==0&&a==0?(e.push(n),n=c):(t.push(c),s=a)}}return n>=0&&e.push(n,...t),e}function Ff(r){return Lf(r).map(Tf)}function fx(r){return ox(Lf(r))}const Rc=65039,Df=".",Mf=1,Gf=45;function Br(){return new Set(un(Se))}const lx=new Map(Nf(Se)),ux=Br(),wa=Br(),Hf=new Set(un(Se).map(function(r){return this[r]},[...wa])),dx=Br();Br();const hx=Pf(Se);function Kf(){return new Set([un(Se).map(r=>hx[r]),un(Se)].flat(2))}const xx=Se(),Xs=js(r=>{let e=js(Se).map(t=>t+96);if(e.length){let t=r>=xx;e[0]-=32,e=Ws(e),t&&(e=`Restricted[${e}]`);let n=Kf(),s=Kf(),i=[...n,...s].sort((c,o)=>c-o),a=!Se();return{N:e,P:n,M:a,R:t,V:new Set(i)}}}),_f=Br(),$s=new Map;[..._f,...Br()].sort((r,e)=>r-e).map((r,e,t)=>{let n=Se(),s=t[e]=n?t[e-n]:{V:[],M:new Map};s.V.push(r),_f.has(r)||$s.set(r,s)});for(let{V:r,M:e}of new Set($s.values())){let t=[];for(let s of r){let i=Xs.filter(c=>c.V.has(s)),a=t.find(({G:c})=>i.some(o=>c.has(o)));a||(a={G:new Set,V:[]},t.push(a)),a.V.push(s),i.forEach(c=>a.G.add(c))}let n=t.flatMap(({G:s})=>[...s]);for(let{G:s,V:i}of t){let a=new Set(n.filter(c=>!s.has(c)));for(let c of i)e.set(c,a)}}let qs=new Set,Vf=new Set;for(let r of Xs)for(let e of r.V)(qs.has(e)?Vf:qs).add(e);for(let r of qs)!$s.has(r)&&!Vf.has(r)&&$s.set(r,Mf);const bx=new Set([...qs,...Ff(qs)]),px=un(Se),gx=Qf([]);function Qf(r){let e=js(()=>{let c=un(Se).map(o=>px[o]);if(c.length)return Qf(c)}).sort((c,o)=>o.Q.size-c.Q.size),t=Se(),n=t%3;t=t/3|0;let s=t&1;t>>=1;let i=t&1,a=t&2;return{B:e,V:n,F:s,S:i,C:a,Q:new Set(r)}}class yx extends Array{get is_emoji(){return!0}}function Aa(r,e=Of){let t=[];Ax(r[0])&&t.push("◌");let n=0,s=r.length;for(let i=0;i<s;i++){let a=r[i];Jf(a)&&(t.push(Ws(r.slice(n,i))),t.push(e(a)),n=i+1)}return t.push(Ws(r.slice(n,s))),t.join("")}function Sc(r){return(Jf(r)?"":`${Bc(Aa([r]))} `)+Of(r)}function Bc(r){return`"${r}"‎`}function mx(r){if(r.length>=4&&r[2]==Gf&&r[3]==Gf)throw new Error("invalid label extension")}function zf(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function wx(r){let e=r[0],t=vf.get(e);if(t)throw ei(`leading ${t}`);let n=r.length,s=-1;for(let i=1;i<n;i++){e=r[i];let a=vf.get(e);if(a){if(s==i)throw ei(`${t} + ${a}`);s=i+1,t=a}}if(s==n)throw ei(`trailing ${t}`)}function Ax(r){return wa.has(r)}function Jf(r){return dx.has(r)}function Ex(r){return Ix(Cx(r))}function Cx(r,e){let t=0;return r.split(Df).map(n=>{let s=qh(n),i={input:s,offset:t};t+=s.length+1;let a;try{let c=i.tokens=kx(s,fx),o=c.length,f;if(o){let u=c[0],d=o>1||u.is_emoji;if(!d&&u.every(h=>h<128))a=u,zf(a),mx(a),f="ASCII";else if(d&&(i.emoji=!0,u=c.flatMap(h=>h.is_emoji?[]:h)),a=c.flatMap(h=>!e&&h.is_emoji?Ox(h):h),zf(a),!u.length)f="Emoji";else{if(wa.has(a[0]))throw ei("leading combining mark");for(let m=1;m<o;m++){let w=c[m];if(!w.is_emoji&&wa.has(w[0]))throw ei(`emoji + combining mark: "${Ws(c[m-1])} + ${Aa([w[0]])}"`)}wx(a);let h=[...new Set(u)],[p]=Nx(h);vx(p,u),Px(p,h),f=p.N}}else throw new Error("empty label");i.type=f}catch(c){i.error=c}return i.output=a,i})}function Px(r,e){let t,n=[];for(let s of e){let i=$s.get(s);if(i===Mf)return;if(i){let a=i.M.get(s);if(t=t?t.filter(c=>a.has(c)):[...a],!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(i=>s.V.has(i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function Nx(r){let e=Xs;for(let t of r){let n=e.filter(s=>s.V.has(t));if(!n.length)throw e===Xs?jf(t):Wf(e[0],t);if(e=n,n.length==1)break}return e}function Ix(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${Bc(Aa(e))}: ${s}`)}return Ws(n)}).join(Df)}function jf(r){return new Error(`disallowed character: ${Sc(r)}`)}function Wf(r,e){let t=Sc(e),n=Xs.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function ei(r){return new Error(`illegal placement: ${r}`)}function vx(r,e){let{V:t,M:n}=r;for(let s of e)if(!t.has(s))throw Wf(r,s);if(n){let s=Ff(e);for(let i=1,a=s.length;i<a;i++)if(Hf.has(s[i])){let c=i+1;for(let o;c<a&&Hf.has(o=s[c]);c++)for(let f=i;f<c;f++)if(s[f]==o)throw new Error(`non-spacing marks: repeated ${Sc(o)}`);if(c-i>kf)throw new Error(`non-spacing marks: too many ${Bc(Aa(s.slice(i-1,c)))} (${c-i}/${kf})`);i=c}}}function kx(r,e){let t=[],n=[];for(r=r.slice().reverse();r.length;){let s=Tx(r);if(s)n.length&&(t.push(e(n)),n=[]),t.push(s);else{let i=r.pop();if(bx.has(i))n.push(i);else{let a=lx.get(i);if(a)n.push(...a);else if(!ux.has(i))throw jf(i)}}}return n.length&&t.push(e(n)),t}function Ox(r){return r.filter(e=>e!=Rc)}function Tx(r,e){let t=gx,n,s,i=[],a=r.length;for(e&&(e.length=0);a;){let c=r[--a];if(t=t.B.find(o=>o.Q.has(c)),!t)break;if(t.S)s=c;else if(t.C&&c===s)break;i.push(c),t.F&&(i.push(Rc),a>0&&r[a-1]==Rc&&a--),t.V&&(n=Rx(i,t),e&&e.push(...r.slice(a).reverse()),r.length=a)}return n}function Rx(r,e){let t=yx.from(r);return e.V==2&&t.splice(1,1),t}const Yf=new Uint8Array(32);Yf.fill(0);function Zf(r){return b(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Xf(r){const e=Ee(Sx(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(Zf(e.slice(n,s))),n=s+1);return b(n<e.length,"invalid ENS name; empty component","name",r),t.push(Zf(e.slice(n))),t}function Sx(r){try{return Ex(r)}catch(e){b(!1,`invalid ENS name (${e.message})`,"name",r)}}function Uc(r){b(typeof r=="string","invalid ENS name; not a string","name",r);let e=Yf;const t=Xf(r);for(;t.length;)e=J(z([e,J(t.pop())]));return N(e)}function Bx(r){return N(z(Xf(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}function Lc(r,e){return{address:F(r),storageKeys:e.map((t,n)=>(b($(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function Un(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(b(t.length===2,"invalid slot set",`value[${n}]`,t),Lc(t[0],t[1])):(b(t!=null&&typeof t=="object","invalid address-slot set","value",r),Lc(t.address,t.storageKeys)));b(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return Lc(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function ti(r){let e;return typeof r=="string"?e=ht.computePublicKey(r,!1):e=r.publicKey,F(J("0x"+e.substring(4)).substring(26))}function Ux(r,e){return ti(ht.recoverPublicKey(r,e))}const Ie=BigInt(0),Lx=BigInt(2),Fx=BigInt(27),Dx=BigInt(28),Mx=BigInt(35),Gx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fc(r){return r==="0x"?null:F(r)}function $f(r,e){try{return Un(r)}catch(t){b(!1,t.message,e,r)}}function Ea(r,e){return r==="0x"?0:L(r,e)}function Pe(r,e){if(r==="0x")return Ie;const t=S(r,e);return b(t<=Gx,"value exceeds uint size",e,t),t}function oe(r,e){const t=S(r,"value"),n=Ae(t);return b(n.length<=32,"value too large",`tx.${e}`,t),n}function qf(r){return Un(r).map(e=>[e.address,e.storageKeys])}function Hx(r){const e=lc(r);b(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:Ea(e[0],"nonce"),gasPrice:Pe(e[1],"gasPrice"),gasLimit:Pe(e[2],"gasLimit"),to:Fc(e[3]),value:Pe(e[4],"value"),data:N(e[5]),chainId:Ie};if(e.length===6)return t;const n=Pe(e[6],"v"),s=Pe(e[7],"r"),i=Pe(e[8],"s");if(s===Ie&&i===Ie)t.chainId=n;else{let a=(n-Mx)/Lx;a<Ie&&(a=Ie),t.chainId=a,b(a!==Ie||n===Fx||n===Dx,"non-canonical legacy v","v",e[6]),t.signature=tt.from({r:Tn(e[7],32),s:Tn(e[8],32),v:n}),t.hash=J(r)}return t}function el(r,e){const t=[oe(r.nonce||0,"nonce"),oe(r.gasPrice||0,"gasPrice"),oe(r.gasLimit||0,"gasLimit"),r.to!=null?F(r.to):"0x",oe(r.value||0,"value"),r.data||"0x"];let n=Ie;if(r.chainId!=Ie)n=S(r.chainId,"tx.chainId"),b(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Ie&&(t.push(Ae(n)),t.push("0x"),t.push("0x")),Fs(t);let s=BigInt(27+e.yParity);return n!==Ie?s=tt.getChainIdV(n,e.v):BigInt(e.v)!==s&&b(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Ae(s)),t.push(Ae(e.r)),t.push(Ae(e.s)),Fs(t)}function tl(r,e){let t;try{if(t=Ea(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{b(!1,"invalid yParity","yParity",e[0])}const n=Tn(e[1],32),s=Tn(e[2],32),i=tt.from({r:n,s,yParity:t});r.signature=i}function Kx(r){const e=lc(O(r).slice(1));b(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",N(r));const t=Pe(e[2],"maxPriorityFeePerGas"),n=Pe(e[3],"maxFeePerGas"),s={type:2,chainId:Pe(e[0],"chainId"),nonce:Ea(e[1],"nonce"),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Pe(e[4],"gasLimit"),to:Fc(e[5]),value:Pe(e[6],"value"),data:N(e[7]),accessList:$f(e[8],"accessList")};return e.length===9||(s.hash=J(r),tl(s,e.slice(9))),s}function nl(r,e){const t=[oe(r.chainId||0,"chainId"),oe(r.nonce||0,"nonce"),oe(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),oe(r.maxFeePerGas||0,"maxFeePerGas"),oe(r.gasLimit||0,"gasLimit"),r.to!=null?F(r.to):"0x",oe(r.value||0,"value"),r.data||"0x",qf(r.accessList||[])];return e&&(t.push(oe(e.yParity,"yParity")),t.push(Ae(e.r)),t.push(Ae(e.s))),z(["0x02",Fs(t)])}function _x(r){const e=lc(O(r).slice(1));b(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",N(r));const t={type:1,chainId:Pe(e[0],"chainId"),nonce:Ea(e[1],"nonce"),gasPrice:Pe(e[2],"gasPrice"),gasLimit:Pe(e[3],"gasLimit"),to:Fc(e[4]),value:Pe(e[5],"value"),data:N(e[6]),accessList:$f(e[7],"accessList")};return e.length===8||(t.hash=J(r),tl(t,e.slice(8))),t}function rl(r,e){const t=[oe(r.chainId||0,"chainId"),oe(r.nonce||0,"nonce"),oe(r.gasPrice||0,"gasPrice"),oe(r.gasLimit||0,"gasLimit"),r.to!=null?F(r.to):"0x",oe(r.value||0,"value"),r.data||"0x",qf(r.accessList||[])];return e&&(t.push(oe(e.yParity,"recoveryParam")),t.push(Ae(e.r)),t.push(Ae(e.s))),z(["0x01",Fs(t)])}const pn=class pn{constructor(){y(this,Qt,void 0);y(this,$r,void 0);y(this,qr,void 0);y(this,es,void 0);y(this,ts,void 0);y(this,ns,void 0);y(this,rs,void 0);y(this,ss,void 0);y(this,is,void 0);y(this,as,void 0);y(this,cs,void 0);y(this,os,void 0);x(this,Qt,null),x(this,$r,null),x(this,es,0),x(this,ts,BigInt(0)),x(this,ns,null),x(this,rs,null),x(this,ss,null),x(this,qr,"0x"),x(this,is,BigInt(0)),x(this,as,BigInt(0)),x(this,cs,null),x(this,os,null)}get type(){return l(this,Qt)}set type(e){switch(e){case null:x(this,Qt,null);break;case 0:case"legacy":x(this,Qt,0);break;case 1:case"berlin":case"eip-2930":x(this,Qt,1);break;case 2:case"london":case"eip-1559":x(this,Qt,2);break;default:b(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return l(this,$r)}set to(e){x(this,$r,e==null?null:F(e))}get nonce(){return l(this,es)}set nonce(e){x(this,es,L(e,"value"))}get gasLimit(){return l(this,ts)}set gasLimit(e){x(this,ts,S(e))}get gasPrice(){const e=l(this,ns);return e==null&&(this.type===0||this.type===1)?Ie:e}set gasPrice(e){x(this,ns,e==null?null:S(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=l(this,rs);return e??(this.type===2?Ie:null)}set maxPriorityFeePerGas(e){x(this,rs,e==null?null:S(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=l(this,ss);return e??(this.type===2?Ie:null)}set maxFeePerGas(e){x(this,ss,e==null?null:S(e,"maxFeePerGas"))}get data(){return l(this,qr)}set data(e){x(this,qr,N(e))}get value(){return l(this,is)}set value(e){x(this,is,S(e,"value"))}get chainId(){return l(this,as)}set chainId(e){x(this,as,S(e))}get signature(){return l(this,cs)||null}set signature(e){x(this,cs,e==null?null:tt.from(e))}get accessList(){const e=l(this,os)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){x(this,os,e==null?null:Un(e))}get hash(){return this.signature==null?null:J(this.serialized)}get unsignedHash(){return J(this.unsignedSerialized)}get from(){return this.signature==null?null:Ux(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ht.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(A(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return el(this,this.signature);case 1:return rl(this,this.signature);case 2:return nl(this,this.signature)}A(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return el(this);case 1:return rl(this);case 2:return nl(this)}A(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&A(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),A(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),A(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):t?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return pn.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new pn;if(typeof e=="string"){const n=O(e);if(n[0]>=127)return pn.from(Hx(n));switch(n[0]){case 1:return pn.from(_x(n));case 2:return pn.from(Kx(n))}A(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new pn;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=tt.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.hash!=null&&(b(t.isSigned(),"unsigned transaction cannot define hash","tx",e),b(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(b(t.isSigned(),"unsigned transaction cannot define from","tx",e),b(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Qt=new WeakMap,$r=new WeakMap,qr=new WeakMap,es=new WeakMap,ts=new WeakMap,ns=new WeakMap,rs=new WeakMap,ss=new WeakMap,is=new WeakMap,as=new WeakMap,cs=new WeakMap,os=new WeakMap;let ni=pn;function Vx(r){return typeof r=="string"&&(r=Ee(r)),J(z([Ee(Nh),Ee(String(r.length)),r]))}const sl=new Uint8Array(32);sl.fill(0);const Qx=BigInt(-1),il=BigInt(0),al=BigInt(1),zx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Jx(r){const e=O(r),t=e.length%32;return t?z([e,sl.slice(t)]):N(e)}const jx=It(al,32),Wx=It(il,32),cl={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Dc=["name","version","chainId","verifyingContract","salt"];function ol(r){return function(e){return b(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Yx={name:ol("name"),version:ol("version"),chainId:function(r){const e=S(r,"domain.chainId");return b(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):wr(e)},verifyingContract:function(r){try{return F(r).toLowerCase()}catch{}b(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=O(r,"domain.salt");return b(e.length===32,'invalid domain value "salt"',"domain.salt",r),N(e)}};function Mc(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");b(n%8===0&&n!==0&&n<=256&&(e[2]==null||e[2]===String(n)),"invalid numeric width","type",r);const s=Ls(zx,t?n-1:n),i=t?(s+al)*Qx:il;return function(a){const c=S(a,"value");return b(c>=i&&c<=s,`value out-of-bounds for ${r}`,"value",c),It(t?Qo(c,256):c,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return b(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const s=O(n);return b(s.length===t,`invalid length for ${r}`,"value",n),Jx(n)}}}switch(r){case"address":return function(e){return Tn(F(e),32)};case"bool":return function(e){return e?jx:Wx};case"bytes":return function(e){return J(e)};case"string":return function(e){return Rt(e)}}return null}function fl(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}const ze=class ze{constructor(e){y(this,za);g(this,"primaryType");y(this,Ei,void 0);y(this,zt,void 0);y(this,fs,void 0);x(this,Ei,JSON.stringify(e)),x(this,zt,new Map),x(this,fs,new Map);const t=new Map,n=new Map,s=new Map;Object.keys(e).forEach(c=>{t.set(c,new Set),n.set(c,[]),s.set(c,new Set)});for(const c in e){const o=new Set;for(const f of e[c]){b(!o.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),o.add(f.name);const u=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;b(u!==c,`circular type reference to ${JSON.stringify(u)}`,"types",e),!Mc(u)&&(b(n.has(u),`unknown type ${JSON.stringify(u)}`,"types",e),n.get(u).push(c),t.get(c).add(u))}}const i=Array.from(n.keys()).filter(c=>n.get(c).length===0);b(i.length!==0,"missing primary type","types",e),b(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),T(this,{primaryType:i[0]});function a(c,o){b(!o.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),o.add(c);for(const f of t.get(c))if(n.has(f)){a(f,o);for(const u of o)s.get(u).add(f)}o.delete(c)}a(this.primaryType,new Set);for(const[c,o]of s){const f=Array.from(o);f.sort(),l(this,zt).set(c,fl(c,e[c])+f.map(u=>fl(u,e[u])).join(""))}}get types(){return JSON.parse(l(this,Ei))}getEncoder(e){let t=l(this,fs).get(e);return t||(t=P(this,za,ku).call(this,e),l(this,fs).set(e,t)),t}encodeType(e){const t=l(this,zt).get(e);return b(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return J(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Mc(e))return n(e,t);const s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return b(!s[3]||parseInt(s[3])===t.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",t),t.map(a=>this._visit(s[1],a,n));const i=this.types[e];if(i)return i.reduce((a,{name:c,type:o})=>(a[c]=this._visit(o,t[c],n),a),{});b(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ze(e)}static getPrimaryType(e){return ze.from(e).primaryType}static hashStruct(e,t,n){return ze.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const s=cl[n];b(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>Dc.indexOf(n.name)-Dc.indexOf(s.name)),ze.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return z(["0x1901",ze.hashDomain(e),ze.from(t).hash(n)])}static hash(e,t,n){return J(ze.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(const c in e)e[c]==null&&delete e[c];const i={};e.verifyingContract&&!$(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=ze.from(t);a.visit(n,(c,o)=>(c==="address"&&!$(o,20)&&(i[o]="0x"),o));for(const c in i)i[c]=await s(c);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(c,o)=>c==="address"&&i[o]?i[o]:o),{domain:e,value:n}}static getPayload(e,t,n){ze.hashDomain(e);const s={},i=[];Dc.forEach(o=>{const f=e[o];f!=null&&(s[o]=Yx[o](f),i.push({name:o,type:cl[o]}))});const a=ze.from(t),c=Object.assign({},t);return b(c.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),c.EIP712Domain=i,a.encode(n),{types:c,domain:s,primaryType:a.primaryType,message:a.visit(n,(o,f)=>{if(o.match(/^bytes(\d*)/))return N(O(f));if(o.match(/^u?int/))return S(f).toString();switch(o){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return b(typeof f=="string","invalid string","value",f),f}b(!1,"unsupported type","type",o)})}}};Ei=new WeakMap,zt=new WeakMap,fs=new WeakMap,za=new WeakSet,ku=function(e){{const s=Mc(e);if(s)return s}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const s=t[1],i=this.getEncoder(s);return a=>{b(!t[3]||parseInt(t[3])===a.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",a);let c=a.map(i);return l(this,zt).has(s)&&(c=c.map(J)),J(z(c))}}const n=this.types[e];if(n){const s=Rt(l(this,zt).get(e));return i=>{const a=n.map(({name:c,type:o})=>{const f=this.getEncoder(o)(i[c]);return l(this,zt).has(o)?J(f):f});return a.unshift(s),z(a)}}b(!1,`unknown type: ${e}`,"type",e)};let Ur=ze;function Ne(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const Zx=Ne("external public payable".split(" ")),ll="constant external internal payable private public pure view",Xx=Ne(ll.split(" ")),ul="constructor error event fallback function receive struct",dl=Ne(ul.split(" ")),hl="calldata memory storage payable indexed",$x=Ne(hl.split(" ")),qx=[ul,hl,"tuple returns",ll].join(" "),eb=Ne(qx.split(" ")),tb={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},nb=new RegExp("^(\\s*)"),rb=new RegExp("^([0-9]+)"),sb=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),xl=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),bl=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Ja=class Ja{constructor(e){y(this,Ci);y(this,ue,void 0);y(this,ct,void 0);x(this,ue,0),x(this,ct,e.slice())}get offset(){return l(this,ue)}get length(){return l(this,ct).length-l(this,ue)}clone(){return new Ja(l(this,ct))}reset(){x(this,ue,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=P(this,Ci,ko).call(this,l(this,ue)+1,e.match+1);return x(this,ue,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;l(this,ue)<e.match-1;){const n=this.peek().linkNext;t.push(P(this,Ci,ko).call(this,l(this,ue)+1,n)),x(this,ue,n)}return x(this,ue,e.match+1),t}peek(){if(l(this,ue)>=l(this,ct).length)throw new Error("out-of-bounds");return l(this,ct)[l(this,ue)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Ki(this,ue)._++,e}toString(){const e=[];for(let t=l(this,ue);t<l(this,ct).length;t++){const n=l(this,ct)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};ue=new WeakMap,ct=new WeakMap,Ci=new WeakSet,ko=function(e=0,t=0){return new Ja(l(this,ct).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let nt=Ja;function dn(r){const e=[],t=a=>{const c=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${c} at ${i}: ${a}`)};let n=[],s=[],i=0;for(;i<r.length;){let a=r.substring(i),c=a.match(nb);c&&(i+=c[1].length,a=r.substring(i));const o={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(o);let f=tb[a[0]]||"";if(f){if(o.type=f,o.text=a[0],i++,f==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),o.match=n.pop(),e[o.match].match=e.length-1,o.depth--,o.linkBack=s.pop(),e[o.linkBack].linkNext=e.length-1;else if(f==="COMMA")o.linkBack=s.pop(),e[o.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(f==="OPEN_BRACKET")o.type="BRACKET";else if(f==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=L(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(c=a.match(sb),c){if(o.text=c[1],i+=o.text.length,eb.has(o.text)){o.type="KEYWORD";continue}if(o.text.match(bl)){o.type="TYPE";continue}o.type="ID";continue}if(c=a.match(rb),c){o.text=c[1],o.type="NUMBER",i+=o.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new nt(e.map(a=>Object.freeze(a)))}function pl(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Ca(r,e){if(e.peekKeyword(dl)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function St(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function gl(r){let e=St(r,Xx);return pl(e,Ne("constant payable nonpayable".split(" "))),pl(e,Ne("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Bt(r,e){return r.popParams().map(t=>fe.from(t,e))}function yl(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return S(r.pop().text);throw new Error("invalid gas")}return null}function Ln(r){if(r.length)throw new Error(`unexpected tokens: ${r.toString()}`)}const ib=new RegExp(/^(.*)\[([0-9]*)\]$/);function ml(r){const e=r.match(bl);if(b(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);b(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);b(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const ee={},ve=Symbol.for("_ethers_internal"),wl="_ParamTypeInternal",Al="_ErrorInternal",El="_EventInternal",Cl="_ConstructorInternal",Pl="_FallbackInternal",Nl="_FunctionInternal",Il="_StructInternal",Je=class Je{constructor(e,t,n,s,i,a,c,o){y(this,ls);g(this,"name");g(this,"type");g(this,"baseType");g(this,"indexed");g(this,"components");g(this,"arrayLength");g(this,"arrayChildren");if(On(e,ee,"ParamType"),Object.defineProperty(this,ve,{value:wl}),a&&(a=Object.freeze(a.slice())),s==="array"){if(c==null||o==null)throw new Error("")}else if(c!=null||o!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");T(this,{name:t,type:n,baseType:s,indexed:i,components:a,arrayLength:c,arrayChildren:o})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(e!=="sighash"&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")"):t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],s=[e];return P(this,ls,qa).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(Je.isParamType(e))return e;if(typeof e=="string")try{return Je.from(dn(e),t)}catch{b(!1,"invalid param type","obj",e)}else if(e instanceof nt){let c="",o="",f=null;St(e,Ne(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(o="tuple",f=e.popParams().map(w=>Je.from(w)),c=`tuple(${f.map(w=>w.format()).join(",")})`):(c=ml(e.popType("TYPE")),o=c);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const w=e.pop();u=new Je(ee,"",c,o,null,f,d,u),d=w.value,c+=w.text,o="array",f=null}let h=null;if(St(e,$x).has("indexed")){if(!t)throw new Error("");h=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Je(ee,m,c,o,h,f,d,u)}const n=e.name;b(!n||typeof n=="string"&&n.match(xl),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(b(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(ib);if(a){const c=parseInt(a[2]||"-1"),o=Je.from({type:a[1],components:e.components});return new Je(ee,n||"",i,"array",s,null,c,o)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const c=e.components!=null?e.components.map(f=>Je.from(f)):null;return new Je(ee,n||"",i,"tuple",s,c,null,null)}return i=ml(e.type),new Je(ee,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[ve]===wl}};ls=new WeakSet,qa=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,c=t.slice();c.forEach((o,f)=>{var u;P(u=a,ls,qa).call(u,e,o,n,d=>{c[f]=d})}),s(c);return}if(this.isTuple()){const a=this.components;let c;if(Array.isArray(t))c=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");c=a.map(o=>{if(!o.name)throw new Error("cannot use object value with unnamed components");if(!(o.name in t))throw new Error(`missing value for component ${o.name}`);return t[o.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((o,f)=>{var u;P(u=a[f],ls,qa).call(u,e,o,n,d=>{c[f]=d})}),s(c);return}const i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};let fe=Je;class Fn{constructor(e,t,n){g(this,"type");g(this,"inputs");On(e,ee,"Fragment"),n=Object.freeze(n.slice()),T(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Fn.from(JSON.parse(e))}catch{}return Fn.from(dn(e))}if(e instanceof nt)switch(e.peekKeyword(dl)){case"constructor":return Ut.from(e);case"error":return ke.from(e);case"event":return xt.from(e);case"fallback":case"receive":return Lt.from(e);case"function":return bt.from(e);case"struct":return Dn.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ut.from(e);case"error":return ke.from(e);case"event":return xt.from(e);case"fallback":case"receive":return Lt.from(e);case"function":return bt.from(e);case"struct":return Dn.from(e)}A(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}b(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ut.isFragment(e)}static isError(e){return ke.isFragment(e)}static isEvent(e){return xt.isFragment(e)}static isFunction(e){return bt.isFragment(e)}static isStruct(e){return Dn.isFragment(e)}}class Pa extends Fn{constructor(t,n,s,i){super(t,n,i);g(this,"name");b(typeof s=="string"&&s.match(xl),"invalid identifier","name",s),i=Object.freeze(i.slice()),T(this,{name:s})}}function ri(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class ke extends Pa{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,ve,{value:Al})}get selector(){return Rt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+ri(e,this.inputs)),t.join(" ")}static from(e){if(ke.isFragment(e))return e;if(typeof e=="string")return ke.from(dn(e));if(e instanceof nt){const t=Ca("error",e),n=Bt(e);return Ln(e),new ke(ee,t,n)}return new ke(ee,e.name,e.inputs?e.inputs.map(fe.from):[])}static isFragment(e){return e&&e[ve]===Al}}class xt extends Pa{constructor(t,n,s,i){super(t,"event",n,s);g(this,"anonymous");Object.defineProperty(this,ve,{value:El}),T(this,{anonymous:i})}get topicHash(){return Rt(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+ri(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>fe.from(i)),new xt(ee,t,n,!1).topicHash}static from(t){if(xt.isFragment(t))return t;if(typeof t=="string")try{return xt.from(dn(t))}catch{b(!1,"invalid event fragment","obj",t)}else if(t instanceof nt){const n=Ca("event",t),s=Bt(t,!0),i=!!St(t,Ne(["anonymous"])).has("anonymous");return Ln(t),new xt(ee,n,s,i)}return new xt(ee,t.name,t.inputs?t.inputs.map(n=>fe.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[ve]===El}}class Ut extends Fn{constructor(t,n,s,i,a){super(t,n,s);g(this,"payable");g(this,"gas");Object.defineProperty(this,ve,{value:Cl}),T(this,{payable:i,gas:a})}format(t){if(A(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const n=[`constructor${ri(t,this.inputs)}`];return n.push(this.payable?"payable":"nonpayable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(Ut.isFragment(t))return t;if(typeof t=="string")try{return Ut.from(dn(t))}catch{b(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof nt){St(t,Ne(["constructor"]));const n=Bt(t),s=!!St(t,Zx).has("payable"),i=yl(t);return Ln(t),new Ut(ee,"constructor",n,s,i)}return new Ut(ee,"constructor",t.inputs?t.inputs.map(fe.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ve]===Cl}}class Lt extends Fn{constructor(t,n,s){super(t,"fallback",n);g(this,"payable");Object.defineProperty(this,ve,{value:Pl}),T(this,{payable:s})}format(t){const n=this.inputs.length===0?"receive":"fallback";if(t==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(Lt.isFragment(t))return t;if(typeof t=="string")try{return Lt.from(dn(t))}catch{b(!1,"invalid fallback fragment","obj",t)}else if(t instanceof nt){const n=t.toString(),s=t.peekKeyword(Ne(["fallback","receive"]));if(b(s,"type must be fallback or receive","obj",n),t.popKeyword(Ne(["fallback","receive"]))==="receive"){const o=Bt(t);return b(o.length===0,"receive cannot have arguments","obj.inputs",o),St(t,Ne(["payable"])),Ln(t),new Lt(ee,[],!0)}let a=Bt(t);a.length?b(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(o=>o.format("minimal")).join(", ")):a=[fe.from("bytes")];const c=gl(t);if(b(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),St(t,Ne(["returns"])).has("returns")){const o=Bt(t);b(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(f=>f.format("minimal")).join(", "))}return Ln(t),new Lt(ee,a,c==="payable")}if(t.type==="receive")return new Lt(ee,[],!0);if(t.type==="fallback"){const n=[fe.from("bytes")],s=t.stateMutability==="payable";return new Lt(ee,n,s)}b(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[ve]===Pl}}class bt extends Pa{constructor(t,n,s,i,a,c){super(t,"function",n,i);g(this,"constant");g(this,"outputs");g(this,"stateMutability");g(this,"payable");g(this,"gas");Object.defineProperty(this,ve,{value:Nl}),a=Object.freeze(a.slice()),T(this,{constant:s==="view"||s==="pure",gas:c,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return Rt(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});const n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+ri(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(ri(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>fe.from(i)),new bt(ee,t,"view",n,[],null).selector}static from(t){if(bt.isFragment(t))return t;if(typeof t=="string")try{return bt.from(dn(t))}catch{b(!1,"invalid function fragment","obj",t)}else if(t instanceof nt){const s=Ca("function",t),i=Bt(t),a=gl(t);let c=[];St(t,Ne(["returns"])).has("returns")&&(c=Bt(t));const o=yl(t);return Ln(t),new bt(ee,s,a,i,c,o)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new bt(ee,t.name,n,t.inputs?t.inputs.map(fe.from):[],t.outputs?t.outputs.map(fe.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ve]===Nl}}class Dn extends Pa{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,ve,{value:Il})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Dn.from(dn(e))}catch{b(!1,"invalid struct fragment","obj",e)}else if(e instanceof nt){const t=Ca("struct",e),n=Bt(e);return Ln(e),new Dn(ee,t,n)}return new Dn(ee,e.name,e.inputs?e.inputs.map(fe.from):[])}static isFragment(e){return e&&e[ve]===Il}}const rt=new Map;rt.set(0,"GENERIC_PANIC"),rt.set(1,"ASSERT_FALSE"),rt.set(17,"OVERFLOW"),rt.set(18,"DIVIDE_BY_ZERO"),rt.set(33,"ENUM_RANGE_ERROR"),rt.set(34,"BAD_STORAGE_DATA"),rt.set(49,"STACK_UNDERFLOW"),rt.set(50,"ARRAY_RANGE_ERROR"),rt.set(65,"OUT_OF_MEMORY"),rt.set(81,"UNINITIALIZED_FUNCTION_CALL");const ab=new RegExp(/^bytes([0-9]*)$/),cb=new RegExp(/^(u?int)([0-9]*)$/);let Gc=null;function ob(r,e,t,n){let s="missing revert data",i=null;const a=null;let c=null;if(t){s="execution reverted";const f=O(t);if(t=N(t),f.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(f.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(N(f.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],f.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(N(f.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],f.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${rt.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:e.to?F(e.to):null,data:e.data||"0x"};return e.from&&(o.from=F(e.from)),ae(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:o,invocation:a,revert:c})}const ja=class ja{constructor(){y(this,gn)}getDefaultValue(e){const t=e.map(s=>P(this,gn,Bs).call(this,fe.from(s)));return new ba(t,"_").defaultValue()}encode(e,t){Mo(t.length,e.length,"types/values length mismatch");const n=e.map(a=>P(this,gn,Bs).call(this,fe.from(a))),s=new ba(n,"_"),i=new dc;return s.encode(i,t),i.data}decode(e,t,n){const s=e.map(a=>P(this,gn,Bs).call(this,fe.from(a)));return new ba(s,"_").decode(new hc(t,n))}static defaultAbiCoder(){return Gc==null&&(Gc=new ja),Gc}static getBuiltinCallException(e,t,n){return ob(e,t,n,ja.defaultAbiCoder())}};gn=new WeakSet,Bs=function(e){if(e.isArray())return new Uh(P(this,gn,Bs).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ba(e.components.map(n=>P(this,gn,Bs).call(this,n)),e.name);switch(e.baseType){case"address":return new Sh(e.name);case"bool":return new Lh(e.name);case"string":return new Qh(e.name);case"bytes":return new Fh(e.name);case"":return new Gh(e.name)}let t=e.type.match(cb);if(t){let n=parseInt(t[2]||"256");return b(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Vh(n/8,t[1]==="int",e.name)}if(t=e.type.match(ab),t){let n=parseInt(t[1]);return b(n!==0&&n<=32,"invalid bytes length","param",e),new Dh(n,e.name)}b(!1,"invalid type","type",e.type)};let si=ja;class fb{constructor(e,t,n){g(this,"fragment");g(this,"name");g(this,"signature");g(this,"topic");g(this,"args");const s=e.name,i=e.format();T(this,{fragment:e,name:s,signature:i,topic:t,args:n})}}class lb{constructor(e,t,n,s){g(this,"fragment");g(this,"name");g(this,"args");g(this,"signature");g(this,"selector");g(this,"value");const i=e.name,a=e.format();T(this,{fragment:e,name:i,args:n,signature:a,selector:t,value:s})}}class ub{constructor(e,t,n){g(this,"fragment");g(this,"name");g(this,"args");g(this,"signature");g(this,"selector");const s=e.name,i=e.format();T(this,{fragment:e,name:s,args:n,signature:i,selector:t})}}class vl{constructor(e){g(this,"hash");g(this,"_isIndexed");T(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const kl={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ol={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&kl[r.toString()]&&(e=kl[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},hs=class hs{constructor(e){y(this,us);y(this,ds);g(this,"fragments");g(this,"deploy");g(this,"fallback");g(this,"receive");y(this,mt,void 0);y(this,wt,void 0);y(this,At,void 0);y(this,ge,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,x(this,At,new Map),x(this,mt,new Map),x(this,wt,new Map);const n=[];for(const a of t)try{n.push(Fn.from(a))}catch(c){console.log("EE",c)}T(this,{fragments:Object.freeze(n)});let s=null,i=!1;x(this,ge,this.getAbiCoder()),this.fragments.forEach((a,c)=>{let o;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}T(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(b(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${c}]`,a),s=a,i=s.payable);return;case"function":o=l(this,At);break;case"event":o=l(this,wt);break;case"error":o=l(this,mt);break;default:return}const f=a.format();o.has(f)||o.set(f,a)}),this.deploy||T(this,{deploy:Ut.from("constructor()")}),T(this,{fallback:s,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return si.defaultAbiCoder()}getFunctionName(e){const t=P(this,us,ec).call(this,e,null,!1);return b(t,"no matching function","key",e),t.name}hasFunction(e){return!!P(this,us,ec).call(this,e,null,!1)}getFunction(e,t){return P(this,us,ec).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(l(this,At).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(l(this,At).get(s),n)}}getEventName(e){const t=P(this,ds,tc).call(this,e,null,!1);return b(t,"no matching event","key",e),t.name}hasEvent(e){return!!P(this,ds,tc).call(this,e,null,!1)}getEvent(e,t){return P(this,ds,tc).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(l(this,wt).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(l(this,wt).get(s),n)}}getError(e,t){if($(e)){const s=e.toLowerCase();if(Ol[s])return ke.from(Ol[s].signature);for(const i of l(this,mt).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of l(this,mt))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?ke.from("error Error(string)"):e==="Panic"?ke.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");b(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=ke.from(e).format(),e==="Error(string)")return ke.from("error Error(string)");if(e==="Panic(uint256)")return ke.from("error Panic(uint256)");const n=l(this,mt).get(e);return n||null}forEachError(e){const t=Array.from(l(this,mt).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(l(this,mt).get(s),n)}}_decodeParams(e,t){return l(this,ge).decode(e,t)}_encodeParams(e,t){return l(this,ge).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);b(n,"unknown error","fragment",e),e=n}return b(W(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,W(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);b(n,"unknown error","fragment",e),e=n}return z([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);b(n,"unknown function","fragment",e),e=n}return b(W(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,W(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);b(n,"unknown function","fragment",e),e=n}return z([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);b(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=he(t);if(s.length%32===0)try{return l(this,ge).decode(e.outputs,s)}catch{n="could not decode result data"}A(!1,n,"BAD_DATA",{value:N(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=O(e,"data"),s=si.getBuiltinCallException("call",t,n),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){const c=N(n.slice(0,4)),o=this.getError(c);if(o)try{const f=l(this,ge).decode(o.inputs,n.slice(4));s.revert={name:o.name,signature:o.format(),args:f},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);b(n,"unknown function","fragment",e),e=n}return N(l(this,ge).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const i=this.getEvent(e);b(i,"unknown event","eventFragment",e),e=i}A(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,a)=>i.type==="string"?Rt(a):i.type==="bytes"?J(N(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=It(a):i.type.match(/^bytes/)?a=Su(a,32):i.type==="address"&&l(this,ge).encode(["address"],[a]),Tn(N(a),32));for(t.forEach((i,a)=>{const c=e.inputs[a];if(!c.indexed){b(i==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,i);return}i==null?n.push(null):c.baseType==="array"||c.baseType==="tuple"?b(!1,"filtering with tuples or arrays not supported","contract."+c.name,i):Array.isArray(i)?n.push(i.map(o=>s(c,o))):n.push(s(c,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const a=this.getEvent(e);b(a,"unknown event","eventFragment",e),e=a}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),b(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((a,c)=>{const o=t[c];if(a.indexed)if(a.type==="string")n.push(Rt(o));else if(a.type==="bytes")n.push(J(o));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(l(this,ge).encode([a.type],[o]))}else s.push(a),i.push(o)}),{data:l(this,ge).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const p=this.getEvent(e);b(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;b($(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(fe.from({type:"bytes32",name:p.name})),a.push(!0)):(s.push(p),a.push(!1)):(i.push(p),a.push(!1))});const c=n!=null?l(this,ge).decode(s,z(n)):null,o=l(this,ge).decode(i,t,!0),f=[],u=[];let d=0,h=0;return e.inputs.forEach((p,m)=>{let w=null;if(p.indexed)if(c==null)w=new vl(null);else if(a[m])w=new vl(c[h++]);else try{w=c[h++]}catch(E){w=E}else try{w=o[d++]}catch(E){w=E}f.push(w),u.push(p.name||null)}),qi.fromItems(f,u)}parseTransaction(e){const t=O(e.data,"tx.data"),n=S(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(N(t.slice(0,4)));if(!s)return null;const i=l(this,ge).decode(s.inputs,t.slice(4));return new lb(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new fb(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=N(e),n=this.getError(W(t,0,4));if(!n)return null;const s=l(this,ge).decode(n.inputs,W(t,4));return new ub(n,n.selector,s)}static from(e){return e instanceof hs?e:typeof e=="string"?new hs(JSON.parse(e)):typeof e.format=="function"?new hs(e.format("json")):new hs(e)}};mt=new WeakMap,wt=new WeakMap,At=new WeakMap,ge=new WeakMap,us=new WeakSet,ec=function(e,t,n){if($(e)){const i=e.toLowerCase();for(const a of l(this,At).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,c]of l(this,At))a.split("(")[0]===e&&i.push(c);if(t){const a=t.length>0?t[t.length-1]:null;let c=t.length,o=!0;be.isTyped(a)&&a.type==="overrides"&&(o=!1,c--);for(let f=i.length-1;f>=0;f--){const u=i[f].inputs.length;u!==c&&(!o||u!==c-1)&&i.splice(f,1)}for(let f=i.length-1;f>=0;f--){const u=i[f].inputs;for(let d=0;d<t.length;d++)if(be.isTyped(t[d])){if(d>=u.length){if(t[d].type==="overrides")continue;i.splice(f,1);break}if(t[d].type!==u[d].baseType){i.splice(f,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){const a=t[t.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(c=>JSON.stringify(c.format())).join(", ");b(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=l(this,At).get(bt.from(e).format());return s||null},ds=new WeakSet,tc=function(e,t,n){if($(e)){const i=e.toLowerCase();for(const a of l(this,wt).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,c]of l(this,wt))a.split("(")[0]===e&&i.push(c);if(t){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<t.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const c=i[a].inputs;for(let o=0;o<t.length;o++)if(be.isTyped(t[o])&&t[o].type!==c[o].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const a=i.map(c=>JSON.stringify(c.format())).join(", ");b(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=l(this,wt).get(xt.from(e).format());return s||null};let Hc=hs;const Tl=BigInt(0);function ii(r){return r??null}function pe(r){return r==null?null:r.toString()}class Rl{constructor(e,t,n){g(this,"gasPrice");g(this,"maxFeePerGas");g(this,"maxPriorityFeePerGas");T(this,{gasPrice:ii(e),maxFeePerGas:ii(t),maxPriorityFeePerGas:ii(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:pe(e),maxFeePerGas:pe(t),maxPriorityFeePerGas:pe(n)}}}function Na(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=N(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in r)||r[s]==null||(e[s]=S(r[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in r)||r[s]==null||(e[s]=L(r[s],`request.${s}`));return r.accessList&&(e.accessList=Un(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),e}class db{constructor(e,t){g(this,"provider");g(this,"number");g(this,"hash");g(this,"timestamp");g(this,"parentHash");g(this,"nonce");g(this,"difficulty");g(this,"gasLimit");g(this,"gasUsed");g(this,"miner");g(this,"extraData");g(this,"baseFeePerGas");y(this,Jt,void 0);x(this,Jt,e.transactions.map(n=>typeof n!="string"?new ci(n,t):n)),T(this,{provider:t,hash:ii(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:ii(e.baseFeePerGas)})}get transactions(){return l(this,Jt).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=l(this,Jt).slice();return e.length===0?[]:(A(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:a,miner:c,nonce:o,number:f,parentHash:u,timestamp:d,transactions:h}=this;return{_type:"Block",baseFeePerGas:pe(e),difficulty:pe(t),extraData:n,gasLimit:pe(s),gasUsed:pe(i),hash:a,miner:c,nonce:o,number:f,parentHash:u,timestamp:d,transactions:h}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return l(this,Jt).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=l(this,Jt)[e];else{const n=e.toLowerCase();for(const s of l(this,Jt))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash===n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;b(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return hb(this)}}Jt=new WeakMap;class ai{constructor(e,t){g(this,"provider");g(this,"transactionHash");g(this,"blockHash");g(this,"blockNumber");g(this,"removed");g(this,"address");g(this,"data");g(this,"topics");g(this,"index");g(this,"transactionIndex");this.provider=t;const n=Object.freeze(e.topics.slice());T(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:a,topics:c,transactionHash:o,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:a,topics:c,transactionHash:o,transactionIndex:f}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return A(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return A(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return A(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return xb(this)}}class Sl{constructor(e,t){g(this,"provider");g(this,"to");g(this,"from");g(this,"contractAddress");g(this,"hash");g(this,"index");g(this,"blockHash");g(this,"blockNumber");g(this,"logsBloom");g(this,"gasUsed");g(this,"cumulativeGasUsed");g(this,"gasPrice");g(this,"type");g(this,"status");g(this,"root");y(this,Pi,void 0);x(this,Pi,Object.freeze(e.logs.map(s=>new ai(s,t))));let n=Tl;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),T(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:n,type:e.type,status:e.status,root:e.root})}get logs(){return l(this,Pi)}toJSON(){const{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:a,blockNumber:c,logsBloom:o,logs:f,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:c,contractAddress:n,cumulativeGasUsed:pe(this.cumulativeGasUsed),from:t,gasPrice:pe(this.gasPrice),gasUsed:pe(this.gasUsed),hash:s,index:i,logs:f,logsBloom:o,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ul(this)}reorderedEvent(e){return A(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Bl(this,e)}}Pi=new WeakMap;const Po=class Po{constructor(e,t){g(this,"provider");g(this,"blockNumber");g(this,"blockHash");g(this,"index");g(this,"hash");g(this,"type");g(this,"to");g(this,"from");g(this,"nonce");g(this,"gasLimit");g(this,"gasPrice");g(this,"maxPriorityFeePerGas");g(this,"maxFeePerGas");g(this,"data");g(this,"value");g(this,"chainId");g(this,"signature");g(this,"accessList");y(this,yn,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,x(this,yn,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:a,from:c,nonce:o,data:f,signature:u,accessList:d}=this;return{_type:"TransactionReceipt",accessList:d,blockNumber:e,blockHash:t,chainId:pe(this.chainId),data:f,from:c,gasLimit:pe(this.gasLimit),gasPrice:pe(this.gasPrice),hash:s,maxFeePerGas:pe(this.maxFeePerGas),maxPriorityFeePerGas:pe(this.maxPriorityFeePerGas),nonce:o,signature:u,to:a,index:n,type:i,value:pe(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await re({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,s=t??0;let i=l(this,yn),a=-1,c=i===-1;const o=async()=>{if(c)return null;const{blockNumber:h,nonce:p}=await re({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=h;return}if(c)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(a===-1&&(a=i-3,a<l(this,yn)&&(a=l(this,yn)));a<=h;){if(c)return null;const w=await this.provider.getBlock(a,!0);if(w==null)return;for(const E of w)if(E===this.hash)return;for(let E=0;E<w.length;E++){const C=await w.getTransaction(E);if(C.from===this.from&&C.nonce===this.nonce){if(c)return null;const B=await this.provider.getTransactionReceipt(C.hash);if(B==null||h-B.blockNumber+1<n)return;let I="replaced";C.data===this.data&&C.to===this.to&&C.value===this.value?I="repriced":C.data==="0x"&&C.from===C.to&&C.value===Tl&&(I="cancelled"),A(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:C.replaceableTransaction(i),hash:C.hash,receipt:B})}}a++}},f=h=>{if(h==null||h.status!==0)return h;A(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(u);if(u){if(await u.confirmations()>=n)return f(u)}else if(await o(),n===0)return null;return await new Promise((h,p)=>{const m=[],w=()=>{m.forEach(C=>C())};if(m.push(()=>{c=!0}),s>0){const C=setTimeout(()=>{w(),p(ae("wait for transaction timeout","TIMEOUT"))},s);m.push(()=>{clearTimeout(C)})}const E=async C=>{if(await C.confirmations()>=n){w();try{h(f(C))}catch(B){p(B)}}};if(m.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),i>=0){const C=async()=>{try{await o()}catch(B){if(De(B,"TRANSACTION_REPLACED")){w(),p(B);return}}c||this.provider.once("block",C)};m.push(()=>{this.provider.off("block",C)}),this.provider.once("block",C)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return A(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ul(this)}reorderedEvent(e){return A(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),A(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Bl(this,e)}replaceableTransaction(e){b(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Po(this,this.provider);return x(t,yn,e),t}};yn=new WeakMap;let ci=Po;function hb(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Bl(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function Ul(r){return{orphan:"drop-transaction",tx:r}}function xb(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class Kc extends ai{constructor(t,n,s){super(t,t.provider);g(this,"interface");g(this,"fragment");g(this,"args");const i=n.decodeEventLog(s,t.data,t.topics);T(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ll extends ai{constructor(t,n){super(t,t.provider);g(this,"error");T(this,{error:n})}}class bb extends Sl{constructor(t,n,s){super(s,n);y(this,xs,void 0);x(this,xs,t)}get logs(){return super.logs.map(t=>{const n=t.topics.length?l(this,xs).getEvent(t.topics[0]):null;if(n)try{return new Kc(t,l(this,xs),n)}catch(s){return new Ll(t,s)}return t})}}xs=new WeakMap;class _c extends ci{constructor(t,n,s){super(s,n);y(this,Ni,void 0);x(this,Ni,t)}async wait(t){const n=await super.wait(t);return n==null?null:new bb(l(this,Ni),this.provider,n)}}Ni=new WeakMap;class Fl extends jo{constructor(t,n,s,i){super(t,n,s);g(this,"log");T(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class pb extends Fl{constructor(e,t,n,s,i){super(e,t,n,new Kc(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);T(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Dl=BigInt(0);function Ml(r){return r&&typeof r.call=="function"}function Gl(r){return r&&typeof r.estimateGas=="function"}function Vc(r){return r&&typeof r.resolveName=="function"}function Hl(r){return r&&typeof r.sendTransaction=="function"}class gb{constructor(e,t,n){y(this,Ii,void 0);g(this,"fragment");if(T(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const s=Mn(e.runner,"resolveName"),i=Vc(s)?s:null;x(this,Ii,async function(){const a=await Promise.all(t.inputs.map((c,o)=>n[o]==null?null:c.walkAsync(n[o],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(h=>xe(h,i))):xe(d,i):d)));return e.interface.encodeFilterTopics(t,a)}())}getTopicFilter(){return l(this,Ii)}}Ii=new WeakMap;function Mn(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function Gn(r){return r==null?null:r.provider||null}async function Kl(r,e){const t=be.dereference(r,"overrides");b(typeof t=="object","invalid overrides parameter","overrides",r);const n=Na(t);return b(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),b(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=await xe(n.from)),n}async function yb(r,e,t){const n=Mn(r,"resolveName"),s=Vc(n)?n:null;return await Promise.all(e.map((i,a)=>i.walkAsync(t[a],(c,o)=>(o=be.dereference(o,c),c==="address"?xe(o,s):o))))}function mb(r){const e=async function(a){const c=await Kl(a,["data"]);c.to=await r.getAddress();const o=r.interface,f=S(c.value||Dl,"overrides.value")===Dl,u=(c.data||"0x")==="0x";o.fallback&&!o.fallback.payable&&o.receive&&!u&&!f&&b(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),b(o.fallback||u,"cannot send data to receive-only contract","overrides.data",c.data);const d=o.receive||o.fallback&&o.fallback.payable;return b(d||f,"cannot send value to non-payable fallback","overrides.value",c.value),b(o.fallback||u,"cannot send data to receive-only contract","overrides.data",c.data),c},t=async function(a){const c=Mn(r.runner,"call");A(Ml(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const o=await e(a);try{return await c.call(o)}catch(f){throw ic(f)&&f.data?r.interface.makeError(f.data,o):f}},n=async function(a){const c=r.runner;A(Hl(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await c.sendTransaction(await e(a)),f=Gn(r.runner);return new _c(r.interface,f,o)},s=async function(a){const c=Mn(r.runner,"estimateGas");return A(Gl(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await e(a))},i=async a=>await n(a);return T(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function wb(r,e){const t=function(...f){const u=r.interface.getFunction(e,f);return A(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),u},n=async function(...f){const u=t(...f);let d={};if(u.inputs.length+1===f.length&&(d=await Kl(f.pop())),u.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await yb(r.runner,u.inputs,f);return Object.assign({},d,await re({to:r.getAddress(),data:r.interface.encodeFunctionData(u,h)}))},s=async function(...f){const u=await c(...f);return u.length===1?u[0]:u},i=async function(...f){const u=r.runner;A(Hl(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await n(...f)),h=Gn(r.runner);return new _c(r.interface,h,d)},a=async function(...f){const u=Mn(r.runner,"estimateGas");return A(Gl(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...f))},c=async function(...f){const u=Mn(r.runner,"call");A(Ml(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...f);let h="0x";try{h=await u.call(d)}catch(m){throw ic(m)&&m.data?r.interface.makeError(m.data,d):m}const p=t(...f);return r.interface.decodeFunctionResult(p,h)},o=async(...f)=>t(...f).constant?await s(...f):await i(...f);return T(o,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:a,populateTransaction:n,send:i,staticCall:s,staticCallResult:c}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const f=r.interface.getFunction(e);return A(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),o}function Ab(r,e){const t=function(...s){const i=r.interface.getEvent(e,s);return A(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new gb(r,t(...s),s)};return T(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=r.interface.getEvent(e);return A(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const Ia=Symbol.for("_ethersInternal_contract"),_l=new WeakMap;function Eb(r,e){_l.set(r[Ia],e)}function Be(r){return _l.get(r[Ia])}function Cb(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function Qc(r,e){let t,n=null;if(Array.isArray(e)){const i=function(a){if($(a,32))return a;const c=r.interface.getEvent(a);return b(c,"unknown fragment","name",a),c.topicHash};t=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?t=[null]:typeof e=="string"?$(e,32)?t=[e]:(n=r.interface.getEvent(e),b(n,"unknown fragment","event",e),t=[n.topicHash]):Cb(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):b(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(c=>c.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function oi(r,e){const{subs:t}=Be(r);return t.get((await Qc(r,e)).tag)||null}async function Vl(r,e,t){const n=Gn(r.runner);A(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await Qc(r,t),{addr:c,subs:o}=Be(r);let f=o.get(i);if(!f){const d={address:c||r,topics:a},h=E=>{let C=s;if(C==null)try{C=r.interface.getEvent(E.topics[0])}catch{}if(C){const B=C,I=s?r.interface.decodeEventLog(s,E.data,E.topics):[];Jc(r,t,I,Q=>new pb(r,Q,t,B,E))}else Jc(r,t,[],B=>new Fl(r,B,t,E))};let p=[];f={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(d,h))},stop:async()=>{if(p.length==0)return;let E=p;p=[],await Promise.all(E),n.off(d,h)}},o.set(i,f)}return f}let zc=Promise.resolve();async function Pb(r,e,t,n){await zc;const s=await oi(r,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:c})=>{const o=Array.from(t);n&&o.push(n(c?null:a));try{a.call(r,...o)}catch{}return!c}),s.listeners.length===0&&(s.stop(),Be(r).subs.delete(s.tag)),i>0}async function Jc(r,e,t,n){try{await zc}catch{}const s=Pb(r,e,t,n);return zc=s,await s}const va=["then"],vi=class vi{constructor(e,t,n,s){g(this,"target");g(this,"interface");g(this,"runner");g(this,"filters");g(this,Qp);g(this,"fallback");b(typeof e=="string"||yf(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=Hc.from(t);T(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Ia,{value:{}});let a,c=null,o=null;if(s){const d=Gn(n);o=new _c(this.interface,d,s)}let f=new Map;if(typeof e=="string")if($(e))c=e,a=Promise.resolve(e);else{const d=Mn(n,"resolveName");if(!Vc(d))throw ae("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=d.resolveName(e).then(h=>{if(h==null)throw ae("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Be(this).addr=h,h})}else a=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Be(this).addr=d,d});Eb(this,{addrPromise:a,addr:c,deployTx:o,subs:f});const u=new Proxy({},{get:(d,h,p)=>{if(typeof h=="symbol"||va.indexOf(h)>=0)return Reflect.get(d,h,p);try{return this.getEvent(h)}catch(m){if(!De(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>va.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return T(this,{filters:u}),T(this,{fallback:i.receive||i.fallback?mb(this):null}),new Proxy(this,{get:(d,h,p)=>{if(typeof h=="symbol"||h in d||va.indexOf(h)>=0)return Reflect.get(d,h,p);try{return d.getFunction(h)}catch(m){if(!De(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>typeof h=="symbol"||h in d||va.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(e){return new vi(this.target,this.interface,e)}attach(e){return new vi(e,this.interface,this.runner)}async getAddress(){return await Be(this).addrPromise}async getDeployedCode(){const e=Gn(this.runner);A(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Gn(this.runner);return A(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",a)}catch(c){i(c)}};a()})}deploymentTransaction(){return Be(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),wb(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Ab(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Be(this),a=s||await i,{fragment:c,topics:o}=await Qc(this,e),f={address:a,topics:o,fromBlock:t,toBlock:n},u=Gn(this.runner);return A(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(f)).map(d=>{let h=c;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new Kc(d,this.interface,h)}catch(p){return new Ll(d,p)}return new ai(d,u)})}async on(e,t){const n=await Vl(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Vl(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await Jc(this,e,t,null)}async listenerCount(e){if(e){const s=await oi(this,e);return s?s.listeners.length:0}const{subs:t}=Be(this);let n=0;for(const{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){const s=await oi(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:t}=Be(this);let n=[];for(const{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){const n=await oi(this,e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Be(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await oi(this,e);if(!t)return this;t.stop(),Be(this).subs.delete(t.tag)}else{const{subs:t}=Be(this);for(const{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends vi{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}};Qp=Ia;let jc=vi;function Nb(){return jc}class fi extends Nb(){}function Wc(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):b(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class Ib{constructor(e){g(this,"name");T(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Ql=new RegExp("^(ipfs)://(.*)$","i"),zl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ql,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],bs=class bs{constructor(e,t,n){y(this,wn);g(this,"provider");g(this,"address");g(this,"name");y(this,mn,void 0);y(this,$n,void 0);T(this,{provider:e,address:t,name:n}),x(this,mn,null),x(this,$n,new fi(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return l(this,mn)==null&&x(this,mn,(async()=>{try{return await l(this,$n).supportsInterface("0x9061b923")}catch(e){if(De(e,"CALL_EXCEPTION"))return!1;throw x(this,mn,null),e}})()),await l(this,mn)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await P(this,wn,Us).call(this,"addr(bytes32)");return i==null||i===Ic?null:i}catch(i){if(De(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await P(this,wn,Us).call(this,"addr(bytes32,uint)",[i]);if($(a,20))return F(a)}let t=null;for(const i of this.provider.plugins)if(i instanceof Ib&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;const n=await P(this,wn,Us).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await t.decodeAddress(e,n);if(s!=null)return s;A(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await P(this,wn,Us).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await P(this,wn,Us).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${Jo("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;A(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<zl.length;n++){const s=t.match(zl[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const a=Wc(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const c=await this.getAddress();if(c==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(s[2]||"").split("/");if(o.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const f=o[1],u=new fi(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const w=await u.ownerOf(f);if(c!==w)return e.push({type:"!owner",value:w}),{url:null,linkage:e};e.push({type:"owner",value:w})}else if(i==="erc1155"){const w=await u.balanceOf(c,f);if(!w)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:w.toString()})}let d=await u[a](f);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",It(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Wc(d)),e.push({type:"metadata-url",value:d});let h={};const p=await new vt(d).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const C=p.body;return C&&e.push({type:"!metadata",value:N(C)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Ql)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=Wc(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return A(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const i=await P(s=bs,Wa,Ou).call(s,e,n);if(i!=null){const a=new bs(e,i,t);return n!==t&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};mn=new WeakMap,$n=new WeakMap,wn=new WeakSet,Us=async function(e,t){t=(t||[]).slice();const n=l(this,$n).interface;t.unshift(Uc(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),A(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Bx(this.name),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await l(this,$n)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!De(i,"CALL_EXCEPTION"))throw i}return null},Wa=new WeakSet,Ou=async function(e,t){const n=await bs.getEnsAddress(e);try{const i=await new fi(n,["function resolver(bytes32) view returns (address)"],e).resolver(Uc(t),{enableCcipRead:!0});return i===Ic?null:i}catch(s){throw s}return null},y(bs,Wa);let ka=bs;const Jl=BigInt(0);function te(r,e){return function(t){return t==null?e:r(t)}}function Yc(r){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(t=>r(t))}}function li(r,e){return t=>{const n={};for(const s in r){let i=s;if(e&&s in e&&!(i in t)){for(const a of e[s])if(a in t){i=a;break}}try{const a=r[s](t[i]);a!==void 0&&(n[s]=a)}catch(a){const c=a instanceof Error?a.message:"not-an-error";A(!1,`invalid value for value.${s} (${c})`,"BAD_DATA",{value:t})}}return n}}function vb(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}b(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Lr(r){return b($(r,!0),"invalid data","value",r),r}function Ge(r){return b($(r,32),"invalid hash","value",r),r}const kb=li({address:F,blockHash:Ge,blockNumber:L,data:Lr,index:L,removed:te(vb,!1),topics:Yc(Ge),transactionHash:Ge,transactionIndex:L},{index:["logIndex"]});function Ob(r){return kb(r)}const Tb=li({hash:te(Ge),parentHash:Ge,number:L,timestamp:L,nonce:te(Lr),difficulty:S,gasLimit:S,gasUsed:S,miner:te(F),extraData:Lr,baseFeePerGas:te(S)});function Rb(r){const e=Tb(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:jl(t)),e}const Sb=li({transactionIndex:L,blockNumber:L,transactionHash:Ge,address:F,topics:Yc(Ge),data:Lr,index:L,blockHash:Ge},{index:["logIndex"]});function Bb(r){return Sb(r)}const Ub=li({to:te(F,null),from:te(F,null),contractAddress:te(F,null),index:L,root:te(N),gasUsed:S,logsBloom:te(Lr),blockHash:Ge,hash:Ge,logs:Yc(Bb),blockNumber:L,cumulativeGasUsed:S,effectiveGasPrice:te(S),status:te(L),type:te(L,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Lb(r){return Ub(r)}function jl(r){r.to&&S(r.to)===Jl&&(r.to="0x0000000000000000000000000000000000000000");const e=li({hash:Ge,type:t=>t==="0x"||t==null?0:L(t),accessList:te(Un,null),blockHash:te(Ge,null),blockNumber:te(L,null),transactionIndex:te(L,null),from:F,gasPrice:te(S),maxPriorityFeePerGas:te(S),maxFeePerGas:te(S),gasLimit:S,to:te(F,null),value:S,nonce:L,data:Lr,creates:te(F,null),chainId:te(S,null)},{data:["input"],gasLimit:["gas"]})(r);if(e.to==null&&e.creates==null&&(e.creates=Rh(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=tt.from(r.signature):e.signature=tt.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&S(e.blockHash)===Jl&&(e.blockHash=null),e}const Fb="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ui{constructor(e){g(this,"name");T(this,{name:e})}clone(){return new ui(this.name)}}class Oa extends ui{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);g(this,"effectiveBlock");g(this,"txBase");g(this,"txCreate");g(this,"txDataZero");g(this,"txDataNonzero");g(this,"txAccessListStorageKey");g(this,"txAccessListAddress");const s={effectiveBlock:t};function i(a,c){let o=(n||{})[a];o==null&&(o=c),b(typeof o=="number",`invalud value for ${a}`,"costs",n),s[a]=o}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),T(this,s)}clone(){return new Oa(this.effectiveBlock,this)}}class Ta extends ui{constructor(t,n){super("org.ethers.plugins.network.Ens");g(this,"address");g(this,"targetNetwork");T(this,{address:t||Fb,targetNetwork:n??1})}clone(){return new Ta(this.address,this.targetNetwork)}}class Wl extends ui{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");y(this,ki,void 0);y(this,Oi,void 0);x(this,ki,t),x(this,Oi,n)}get url(){return l(this,ki)}get processFunc(){return l(this,Oi)}clone(){return this}}ki=new WeakMap,Oi=new WeakMap;const Zc=new Map,ys=class ys{constructor(e,t){y(this,ps,void 0);y(this,gs,void 0);y(this,An,void 0);x(this,ps,e),x(this,gs,S(t)),x(this,An,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return l(this,ps)}set name(e){x(this,ps,e)}get chainId(){return l(this,gs)}set chainId(e){x(this,gs,S(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===S(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===S(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===S(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(l(this,An).values())}attachPlugin(e){if(l(this,An).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return l(this,An).set(e.name,e.clone()),this}getPlugin(e){return l(this,An).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new ys(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Oa;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const s=Un(e.accessList);for(const i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(Mb(),e==null)return ys.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Zc.get(e);if(t)return t();if(typeof e=="bigint")return new ys("unknown",e);b(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){b(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new ys(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Ta(e.ensAddress,e.ensNetwork)),t}b(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=Zc.get(e);n&&b(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Zc.set(e,t)}};ps=new WeakMap,gs=new WeakMap,An=new WeakMap;let Ft=ys;function Yl(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Zl(r){return new Wl(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([n.send(),e()]);s=i;const c=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Yl(c.maxFee,9),maxPriorityFeePerGas:Yl(c.maxPriorityFee,9)}}catch(i){A(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}function Db(r){return new Wl("data:",async(e,t,n)=>{const s=await e();if(s.maxFeePerGas==null||s.maxPriorityFeePerGas==null)return s;const i=s.maxFeePerGas-s.maxPriorityFeePerGas;return{gasPrice:s.gasPrice,maxFeePerGas:i+r,maxPriorityFeePerGas:r}})}let Xl=!1;function Mb(){if(Xl)return;Xl=!0;function r(e,t,n){const s=function(){const i=new Ft(e,t);return n.ensNetwork!=null&&i.attachPlugin(new Ta(null,n.ensNetwork)),i.attachPlugin(new Oa),(n.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};Ft.register(e,s),Ft.register(t,s),n.altNames&&n.altNames.forEach(i=>{Ft.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("matic",137,{ensNetwork:1,plugins:[Zl("https://gasstation.polygon.technology/v2")]}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Zl("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[Db(BigInt("1000000"))]}),r("optimism-goerli",420,{}),r("xdai",100,{ensNetwork:1})}function Xc(r){return JSON.parse(JSON.stringify(r))}class Gb{constructor(e){y(this,ms);y(this,jt,void 0);y(this,je,void 0);y(this,En,void 0);y(this,Et,void 0);x(this,jt,e),x(this,je,null),x(this,En,4e3),x(this,Et,-2)}get pollingInterval(){return l(this,En)}set pollingInterval(e){x(this,En,e)}start(){l(this,je)||(x(this,je,l(this,jt)._setTimeout(P(this,ms,nc).bind(this),l(this,En))),P(this,ms,nc).call(this))}stop(){l(this,je)&&(l(this,jt)._clearTimeout(l(this,je)),x(this,je,null))}pause(e){this.stop(),e&&x(this,Et,-2)}resume(){this.start()}}jt=new WeakMap,je=new WeakMap,En=new WeakMap,Et=new WeakMap,ms=new WeakSet,nc=async function(){try{const e=await l(this,jt).getBlockNumber();if(l(this,Et)===-2){x(this,Et,e);return}if(e!==l(this,Et)){for(let t=l(this,Et)+1;t<=e;t++){if(l(this,je)==null)return;await l(this,jt).emit("block",t)}x(this,Et,e)}}catch{}l(this,je)!=null&&x(this,je,l(this,jt)._setTimeout(P(this,ms,nc).bind(this),l(this,En)))};class $l{constructor(e){y(this,qn,void 0);y(this,er,void 0);y(this,Cn,void 0);x(this,qn,e),x(this,Cn,!1),x(this,er,t=>{this._poll(t,l(this,qn))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){l(this,Cn)||(x(this,Cn,!0),l(this,er).call(this,-2),l(this,qn).on("block",l(this,er)))}stop(){l(this,Cn)&&(x(this,Cn,!1),l(this,qn).off("block",l(this,er)))}pause(e){this.stop()}resume(){this.start()}}qn=new WeakMap,er=new WeakMap,Cn=new WeakMap;class Hb extends $l{constructor(t,n){super(t);y(this,Ya,void 0);x(this,Ya,Xc(n))}async _poll(t,n){throw new Error("@TODO")}}Ya=new WeakMap;class Kb extends $l{constructor(t,n){super(t);y(this,ws,void 0);x(this,ws,n)}async _poll(t,n){const s=await n.getTransactionReceipt(l(this,ws));s&&n.emit(l(this,ws),s)}}ws=new WeakMap;class $c{constructor(e,t){y(this,Za);y(this,Wt,void 0);y(this,As,void 0);y(this,Es,void 0);y(this,Pn,void 0);y(this,We,void 0);x(this,Wt,e),x(this,As,Xc(t)),x(this,Es,P(this,Za,Tu).bind(this)),x(this,Pn,!1),x(this,We,-2)}start(){l(this,Pn)||(x(this,Pn,!0),l(this,We)===-2&&l(this,Wt).getBlockNumber().then(e=>{x(this,We,e)}),l(this,Wt).on("block",l(this,Es)))}stop(){l(this,Pn)&&(x(this,Pn,!1),l(this,Wt).off("block",l(this,Es)))}pause(e){this.stop(),e&&x(this,We,-2)}resume(){this.start()}}Wt=new WeakMap,As=new WeakMap,Es=new WeakMap,Pn=new WeakMap,We=new WeakMap,Za=new WeakSet,Tu=async function(e){if(l(this,We)===-2)return;const t=Xc(l(this,As));t.fromBlock=l(this,We)+1,t.toBlock=e;const n=await l(this,Wt).getLogs(t);if(n.length===0){l(this,We)<e-60&&x(this,We,e-60);return}for(const s of n)l(this,Wt).emit(l(this,As),s),x(this,We,s.blockNumber)};const _b=BigInt(2),Vb=10;function Ra(r){return r&&typeof r.then=="function"}function Sa(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,a)=>(i[a]=n[a],i),{})}return n})}class ql{constructor(e){g(this,"name");T(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Qb(r){return JSON.parse(JSON.stringify(r))}function qc(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function eo(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"pending":case"debug":case"error":case"network":return{type:r,tag:r}}if($(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:Sa("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:Sa("orphan",t),filter:Qb(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?qc(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],i=[],a=c=>{$(c)?s.push(c):i.push((async()=>{s.push(await xe(c,e))})())};Array.isArray(t.address)?t.address.forEach(a):a(t.address),i.length&&await Promise.all(i),n.address=qc(s.map(c=>c.toLowerCase()))}return{filter:n,tag:Sa("event",n),type:"event"}}b(!1,"unknown ProviderEvent","event",r)}function to(){return new Date().getTime()}const zb={cacheTimeout:250,pollingInterval:4e3};class Jb{constructor(e,t){y(this,Oe);y(this,Ri);y(this,Si);y(this,nr);y(this,Bi);y(this,rr);y(this,Is);y(this,ye,void 0);y(this,Nn,void 0);y(this,me,void 0);y(this,Cs,void 0);y(this,Fe,void 0);y(this,tr,void 0);y(this,In,void 0);y(this,Yt,void 0);y(this,Ti,void 0);y(this,Ye,void 0);y(this,Ps,void 0);y(this,Ns,void 0);if(x(this,Ns,Object.assign({},zb,t||{})),e==="any")x(this,tr,!0),x(this,Fe,null);else if(e){const n=Ft.from(e);x(this,tr,!1),x(this,Fe,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else x(this,tr,!1),x(this,Fe,null);x(this,Yt,-1),x(this,In,new Map),x(this,ye,new Map),x(this,Nn,new Map),x(this,me,null),x(this,Cs,!1),x(this,Ti,1),x(this,Ye,new Map),x(this,Ps,!1)}get pollingInterval(){return l(this,Ns).pollingInterval}get provider(){return this}get plugins(){return Array.from(l(this,Nn).values())}attachPlugin(e){if(l(this,Nn).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return l(this,Nn).set(e.name,e.connect(this)),this}getPlugin(e){return l(this,Nn).get(e)||null}get disableCcipRead(){return l(this,Ps)}set disableCcipRead(e){x(this,Ps,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let c=0;c<n.length;c++){const o=n[c],f=o.replace("{sender}",s).replace("{data}",i),u=new vt(f);o.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:c,urls:n});let d="unknown error";const h=await u.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}A(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:d}}),a.push(d)}A(!1,`error encountered during CCIP fetch: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,t){return new db(Rb(e),this)}_wrapLog(e,t){return new ai(Ob(e),this)}_wrapTransactionReceipt(e,t){return new Sl(Lb(e),this)}_wrapTransactionResponse(e,t){return new ci(jl(e),this)}_detectNetwork(){A(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){A(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=L(await P(this,Oe,Xe).call(this,{method:"getBlockNumber"}),"%response");return l(this,Yt)>=0&&x(this,Yt,e),e}_getAddress(e){return xe(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if($(e))return $(e,32)?e:wr(e);if(typeof e=="bigint"&&(e=L(e,"blockTag")),typeof e=="number")return e>=0?wr(e):l(this,Yt)>=0?wr(l(this,Yt)+e):this.getBlockNumber().then(t=>wr(t+e));b(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?qc(o.map(f=>f.toLowerCase())):o.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(o,f,u)=>{let d;switch(o.length){case 0:break;case 1:d=o[0];break;default:o.sort(),d=o}if(n&&(f!=null||u!=null))throw new Error("invalid filter");const h={};return d&&(h.address=d),t.length&&(h.topics=t),f&&(h.fromBlock=f),u&&(h.toBlock=u),n&&(h.blockHash=n),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)i.push(this._getAddress(o));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let c;return"toBlock"in e&&(c=this._getBlockTag(e.toBlock)),i.filter(o=>typeof o!="string").length||a!=null&&typeof a!="string"||c!=null&&typeof c!="string"?Promise.all([Promise.all(i),a,c]).then(o=>s(o[0],o[1],o[2])):s(i,a,c)}_getTransactionRequest(e){const t=Na(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const i=xe(t[s]);Ra(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);Ra(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(l(this,Fe)==null){const s=this._detectNetwork().then(i=>(this.emit("network",i,null),i),i=>{throw l(this,Fe)===s&&x(this,Fe,null),i});return x(this,Fe,s),(await s).clone()}const e=l(this,Fe),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(l(this,tr)?(this.emit("network",n,t),l(this,Fe)===e&&x(this,Fe,Promise.resolve(n))):A(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:i}=await re({_block:P(this,Bi,Ro).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await P(this,Oe,Xe).call(this,{method:"getGasPrice"});return S(f,"%response")}catch{}return null})()});let a=null,c=null;const o=this._wrapBlock(s,e);return o&&o.baseFeePerGas&&(c=BigInt("1000000000"),a=o.baseFeePerGas*_b+c),new Rl(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new vt(n.url),i=await n.processFunc(t,this,s);return new Rl(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Ra(t)&&(t=await t),S(await P(this,Oe,Xe).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await re({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await P(this,Si,To).call(this,P(this,Ri,Oo).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return S(await P(this,nr,Vi).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return L(await P(this,nr,Vi).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return N(await P(this,nr,Vi).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const s=S(t,"position");return N(await P(this,nr,Vi).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:s}=await re({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=ni.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:s}=await re({network:this.getNetwork(),params:P(this,Bi,Ro).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:t,params:n}=await re({network:this.getNetwork(),params:P(this,Oe,Xe).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await re({network:this.getNetwork(),params:P(this,Oe,Xe).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await P(this,Oe,Xe).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await re({network:this.getNetwork(),result:P(this,Oe,Xe).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:N(t)}async getLogs(e){let t=this._getFilter(e);Ra(t)&&(t=await t);const{network:n,params:s}=await re({network:this.getNetwork(),params:P(this,Oe,Xe).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){A(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ka.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=F(e);const t=Uc(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await ka.getEnsAddress(this),i=await new fi(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===Ic)return null;const c=await new fi(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(c)!==e?null:c}catch(n){if(De(n,"BAD_DATA")&&n.value==="0x"||De(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let c=null;const o=async f=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&f-u.blockNumber+1>=s){i(u),c&&(clearTimeout(c),c=null);return}}catch(u){console.log("EEE",u)}this.once("block",o)};n!=null&&(c=setTimeout(()=>{c!=null&&(c=null,this.off("block",o),a(ae("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){A(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=l(this,Ye).get(e);t&&(t.timer&&clearTimeout(t.timer),l(this,Ye).delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=Ki(this,Ti)._++,s=()=>{l(this,Ye).delete(n),e()};if(this.paused)l(this,Ye).set(n,{timer:null,func:s,time:t});else{const i=setTimeout(s,t);l(this,Ye).set(n,{timer:i,func:s,time:to()})}return n}_forEachSubscriber(e){for(const t of l(this,ye).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ql(e.type);case"block":{const t=new Gb(this);return t.pollingInterval=this.pollingInterval,t}case"event":return new $c(this,e.filter);case"transaction":return new Kb(this,e.hash);case"orphan":return new Hb(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of l(this,ye).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),l(this,me)!=null&&t.pause(l(this,me));break}}async on(e,t){const n=await P(this,Is,rc).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,l(this,me)!=null&&n.subscriber.pause(l(this,me))),this}async once(e,t){const n=await P(this,Is,rc).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,l(this,me)!=null&&n.subscriber.pause(l(this,me))),this}async emit(e,...t){const n=await P(this,rr,Qi).call(this,e,t);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:a})=>{const c=new jo(this,a?null:i,e);try{i.call(this,...t,c)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),l(this,ye).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await P(this,rr,Qi).call(this,e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of l(this,ye).values())t+=n.length;return t}async listeners(e){if(e){const n=await P(this,rr,Qi).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:n}of l(this,ye).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){const n=await P(this,rr,Qi).call(this,e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),l(this,ye).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:s}=await P(this,Is,rc).call(this,e);n&&s.stop(),l(this,ye).delete(t)}else for(const[t,{started:n,subscriber:s}]of l(this,ye))n&&s.stop(),l(this,ye).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return l(this,Cs)}destroy(){this.removeAllListeners();for(const e of l(this,Ye).keys())this._clearTimeout(e);x(this,Cs,!0)}get paused(){return l(this,me)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(x(this,Yt,-1),l(this,me)!=null){if(l(this,me)==!!e)return;A(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),x(this,me,!!e);for(const t of l(this,Ye).values())t.timer&&clearTimeout(t.timer),t.time=to()-t.time}resume(){if(l(this,me)!=null){this._forEachSubscriber(e=>e.resume()),x(this,me,null);for(const e of l(this,Ye).values()){let t=e.time;t<0&&(t=0),e.time=to(),setTimeout(e.func,t)}}}}ye=new WeakMap,Nn=new WeakMap,me=new WeakMap,Cs=new WeakMap,Fe=new WeakMap,tr=new WeakMap,In=new WeakMap,Yt=new WeakMap,Ti=new WeakMap,Ye=new WeakMap,Ps=new WeakMap,Ns=new WeakMap,Oe=new WeakSet,Xe=async function(e){const t=l(this,Ns).cacheTimeout;if(t<0)return await this._perform(e);const n=Sa(e.method,e);let s=l(this,In).get(n);return s||(s=this._perform(e),l(this,In).set(n,s),setTimeout(()=>{l(this,In).get(n)===s&&l(this,In).delete(n)},t)),await s},Ri=new WeakSet,Oo=async function(e,t,n){A(n<Vb,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=Na(e);try{return N(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&ic(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&W(i.data,0,4)==="0x556f1830"){const a=i.data,c=await xe(s.to,this);let o;try{o=Xb(W(i.data,4))}catch(d){A(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}A(o.sender.toLowerCase()===c.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const f=await this.ccipReadFetch(s,o.calldata,o.urls);A(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:o.errorArgs}});const u={to:c,data:z([o.selector,Zb([f,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await P(this,Ri,Oo).call(this,u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}},Si=new WeakSet,To=async function(e){const{value:t}=await re({network:this.getNetwork(),value:e});return t},nr=new WeakSet,Vi=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await P(this,Si,To).call(this,P(this,Oe,Xe).call(this,Object.assign(e,{address:s,blockTag:i})))},Bi=new WeakSet,Ro=async function(e,t){if($(e,32))return await P(this,Oe,Xe).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await P(this,Oe,Xe).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},rr=new WeakSet,Qi=async function(e,t){let n=await eo(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await eo({orphan:"drop-log",log:t[0]},this)),l(this,ye).get(n.tag)||null},Is=new WeakSet,rc=async function(e){const t=await eo(e,this),n=t.tag;let s=l(this,ye).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},l(this,ye).set(n,s)),s};function jb(r,e){try{const t=no(r,e);if(t)return oc(t)}catch{}return null}function no(r,e){if(r==="0x")return null;try{const t=L(W(r,e,e+32)),n=L(W(r,t,t+32));return W(r,t+32,t+32+n)}catch{}return null}function eu(r){const e=Ae(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Wb(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const Yb=new Uint8Array([]);function Zb(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(Yb),t+=32;for(let n=0;n<r.length;n++){const s=O(r[n]);e[n]=eu(t),e.push(eu(s.length)),e.push(Wb(s)),t+=32+Math.ceil(s.length/32)*32}return z(e)}const tu="0x0000000000000000000000000000000000000000000000000000000000000000";function Xb(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};A(yr(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=W(r,0,32);A(W(t,0,12)===W(tu,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=W(t,12);try{const n=[],s=L(W(r,32,64)),i=L(W(r,s,s+32)),a=W(r,s+32);for(let c=0;c<i;c++){const o=jb(a,c*32);if(o==null)throw new Error("abort");n.push(o)}e.urls=n}catch{A(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=no(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{A(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}A(W(r,100,128)===W(tu,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=W(r,96,100);try{const n=no(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{A(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Fr(r,e){if(r.provider)return r.provider;A(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function nu(r,e){let t=Na(e);if(t.to!=null&&(t.to=xe(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),xe(n,r)]).then(([s,i])=>(b(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await re(t)}class ro{constructor(e){g(this,"provider");T(this,{provider:e||null})}async getNonce(e){return Fr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await nu(this,e)}async populateTransaction(e){const t=Fr(this,"populateTransaction"),n=await nu(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const a=S(n.chainId);b(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?b(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&b(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await t.getFeeData();A(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await t.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const c=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=c,n.maxPriorityFeePerGas=c}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(A(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):A(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await re(n)}async estimateGas(e){return Fr(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Fr(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Fr(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Fr(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=ni.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}}const No=class No extends ro{constructor(t,n){super(n);y(this,vs);g(this,"address");T(this,{address:t})}async getAddress(){return this.address}connect(t){return new No(this.address,t)}async signTransaction(t){P(this,vs,sc).call(this,"transactions","signTransaction")}async signMessage(t){P(this,vs,sc).call(this,"messages","signMessage")}async signTypedData(t,n,s){P(this,vs,sc).call(this,"typed-data","signTypedData")}};vs=new WeakSet,sc=function(t,n){A(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};let so=No;function $b(r){return JSON.parse(JSON.stringify(r))}class ru{constructor(e){y(this,Ui);y(this,Li);y(this,Te,void 0);y(this,Ct,void 0);y(this,sr,void 0);y(this,vn,void 0);y(this,ir,void 0);y(this,ks,void 0);x(this,Te,e),x(this,Ct,null),x(this,sr,P(this,Ui,So).bind(this)),x(this,vn,!1),x(this,ir,null),x(this,ks,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){l(this,vn)||(x(this,vn,!0),P(this,Ui,So).call(this,-2))}stop(){l(this,vn)&&(x(this,vn,!1),x(this,ks,!0),P(this,Li,Bo).call(this),l(this,Te).off("block",l(this,sr)))}pause(e){e&&P(this,Li,Bo).call(this),l(this,Te).off("block",l(this,sr))}resume(){this.start()}}Te=new WeakMap,Ct=new WeakMap,sr=new WeakMap,vn=new WeakMap,ir=new WeakMap,ks=new WeakMap,Ui=new WeakSet,So=async function(e){try{l(this,Ct)==null&&x(this,Ct,this._subscribe(l(this,Te)));let t=null;try{t=await l(this,Ct)}catch(i){if(!De(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){x(this,Ct,null),l(this,Te)._recoverSubscriber(this,this._recover(l(this,Te)));return}const n=await l(this,Te).getNetwork();if(l(this,ir)||x(this,ir,n),l(this,ir).chainId!==n.chainId)throw new Error("chaid changed");if(l(this,ks))return;const s=await l(this,Te).send("eth_getFilterChanges",[t]);await this._emitResults(l(this,Te),s)}catch(t){console.log("@TODO",t)}l(this,Te).once("block",l(this,sr))},Li=new WeakSet,Bo=function(){const e=l(this,Ct);e&&(x(this,Ct,null),e.then(t=>{l(this,Te).send("eth_uninstallFilter",[t])}))};class qb extends ru{constructor(t,n){super(t);y(this,ar,void 0);x(this,ar,$b(n))}_recover(t){return new $c(t,l(this,ar))}async _subscribe(t){return await t.send("eth_newFilter",[l(this,ar)])}async _emitResults(t,n){for(const s of n)t.emit(l(this,ar),t._wrapLog(s,t._network))}}ar=new WeakMap;class ep extends ru{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const tp="bigint,boolean,function,number,string,symbol".split(/,/g);function Ba(r){if(r==null||tp.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(Ba);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function np(r){return new Promise(e=>{setTimeout(e,r)})}function Dr(r){return r&&r.toLowerCase()}function su(r){return r&&typeof r.pollingInterval=="number"}const rp={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class io extends ro{constructor(t,n){super(t);g(this,"address");n=F(n),T(this,{address:n})}connect(t){A(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const n=Ba(t),s=[];if(n.from){const a=n.from;s.push((async()=>{const c=await xe(a,this.provider);b(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=c})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;s.push((async()=>{n.to=await xe(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,a)=>{const c=[1e3,100],o=async()=>{const f=await this.provider.getTransaction(s);if(f!=null){i(f.replaceableTransaction(n));return}this.provider._setTimeout(()=>{o()},c.pop()||4e3)};o()})}async signTransaction(t){const n=Ba(t);if(n.from){const i=await xe(n.from,this.provider);b(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){const n=typeof t=="string"?Ee(t):t;return await this.provider.send("personal_sign",[N(n),this.address.toLowerCase()])}async signTypedData(t,n,s){const i=Ba(s),a=await Ur.resolveNames(t,n,i,async c=>{const o=await xe(c);return b(o!=null,"TypedData does not support null address","value",c),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ur.getPayload(a.domain,n,a.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const n=typeof t=="string"?Ee(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),N(n)])}}class sp extends Jb{constructor(t,n){super(t,n);y(this,Fi);y(this,cr,void 0);y(this,Os,void 0);y(this,Zt,void 0);y(this,Pt,void 0);y(this,ot,void 0);y(this,Xt,void 0);x(this,Os,1),x(this,cr,Object.assign({},rp,n||{})),x(this,Zt,[]),x(this,Pt,null),x(this,Xt,null);{let i=null;const a=new Promise(c=>{i=c});x(this,ot,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");s&&(b(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),x(this,Xt,s))}_getOption(t){return l(this,cr)[t]}get _network(){return A(l(this,Xt),"network is not available yet","NETWORK_ERROR"),l(this,Xt)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&S(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)return t;if(this.ready)return Ft.from(S(await this.send("eth_chainId",[])));const n={id:Ki(this,Os)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Ft.from(S(s.result));throw this.getRpcError(n,s)}_start(){l(this,ot)==null||l(this,ot).resolve==null||(l(this,ot).resolve(),x(this,ot,null),(async()=>{for(;l(this,Xt)==null&&!this.destroyed;)try{x(this,Xt,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ae("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await np(1e3)}P(this,Fi,Uo).call(this)})())}async _waitUntilReady(){if(l(this,ot)!=null)return await l(this,ot).promise}_getSubscriber(t){return t.type==="pending"?new ep(this):t.type==="event"?this._getOption("polling")?new $c(this,t.filter):new qb(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new ql("orphan"):super._getSubscriber(t)}get ready(){return l(this,ot)==null}getRpcTransaction(t){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=wr(S(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=N(t[s]))}),t.accessList&&(n.accessList=Un(t.accessList)),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Dr(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Dr(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Dr(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Dr(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Dr):t.filter.address=Dr(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){const{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const o=i.message;if(!o.match(/revert/i)&&o.match(/insufficient funds/i))return ae("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const o=ao(i),f=si.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],o?o.data:null);return f.info={error:i,payload:t},f}const a=JSON.stringify(ap(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return ae("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const o=t.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return ae("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return ae("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return ae("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:i}});if(a.match(/only replay-protected/i))return ae("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:o,info:{error:i}}})}let c=!!a.match(/the method .* does not exist/i);return c||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(c=!0),c?ae("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):ae("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const s=Ki(this,Os)._++,i=new Promise((a,c)=>{l(this,Zt).push({resolve:a,reject:c,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return P(this,Fi,Uo).call(this),i}async getSigner(t){t==null&&(t=0);const n=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await n;if(t>=i.length)throw new Error("no such account");return new io(this,i[t])}const{accounts:s}=await re({network:this.getNetwork(),accounts:n});t=F(t);for(const i of s)if(F(i)===t)return new io(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new io(this,n))}destroy(){l(this,Pt)&&(clearTimeout(l(this,Pt)),x(this,Pt,null));for(const{payload:t,reject:n}of l(this,Zt))n(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));x(this,Zt,[]),super.destroy()}}cr=new WeakMap,Os=new WeakMap,Zt=new WeakMap,Pt=new WeakMap,ot=new WeakMap,Xt=new WeakMap,Fi=new WeakSet,Uo=function(){if(l(this,Pt))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");x(this,Pt,setTimeout(()=>{x(this,Pt,null);const n=l(this,Zt);for(x(this,Zt,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==l(this,cr).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(a=>a.payload)).length>l(this,cr).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:c,reject:o,payload:f}of s){if(this.destroyed){o(ae("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}const u=a.filter(d=>d.id===f.id)[0];if(u==null){const d=ae("missing response for request","BAD_DATA",{value:a,info:{payload:f}});this.emit("error",d),o(d);continue}if("error"in u){o(this.getRpcError(f,u));continue}c(u.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:c}of s)c(a)}})()}},t))};class ip extends sp{constructor(t,n){super(t,n);y(this,kn,void 0);x(this,kn,4e3)}_getSubscriber(t){const n=super._getSubscriber(t);return su(n)&&(n.pollingInterval=l(this,kn)),n}get pollingInterval(){return l(this,kn)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");x(this,kn,t),this._forEachSubscriber(n=>{su(n)&&(n.pollingInterval=l(this,kn))})}}kn=new WeakMap;class Ua extends ip{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);y(this,Ts,void 0);typeof t=="string"?x(this,Ts,new vt(t)):x(this,Ts,t.clone())}_getConnection(){return l(this,Ts).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){const n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Ts=new WeakMap;function ao(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&$(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=ao(r[e]);if(t)return t}return null}if(typeof r=="string")try{return ao(JSON.parse(r))}catch{}return null}function co(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)co(r[t],e);if(typeof r=="string")try{return co(JSON.parse(r),e)}catch{}}}function ap(r){const e=[];return co(r,e),e}const Io=class Io extends ro{constructor(t,n){super(n);g(this,"address");y(this,Rs,void 0);b(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),x(this,Rs,t);const s=ti(this.signingKey.publicKey);T(this,{address:s})}get signingKey(){return l(this,Rs)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new Io(l(this,Rs),t)}async signTransaction(t){const{to:n,from:s}=await re({to:t.to?xe(t.to,this.provider):void 0,from:t.from?xe(t.from,this.provider):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&(b(F(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const i=ni.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(Vx(t)).serialized}async signTypedData(t,n,s){const i=await Ur.resolveNames(t,n,s,async a=>{A(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const c=await this.provider.resolveName(a);return A(c!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),c});return this.signingKey.sign(Ur.hash(i.domain,n,i.value)).serialized}};Rs=new WeakMap;let La=Io;const Fa=" !#$%&'()*+,-./<=>?@[]^_`{|}~",cp=/^[a-z]*$/i;function iu(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(cp)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function op(r,e){for(let s=Fa.length-1;s>=0;s--)r=r.split(Fa[s]).join(e.substring(2*s,2*s+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,a,c)=>{if(a)for(let o=parseInt(a);o>=0;o--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return iu(iu(t,";"),":")}function fp(r){return b(r[0]==="0","unsupported auwl data","data",r),op(r.substring(1+2*Fa.length),r.substring(1,1+2*Fa.length))}class lp{constructor(e){g(this,"locale");T(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class up extends lp{constructor(t,n,s){super(t);y(this,Mi);y(this,Ss,void 0);y(this,Di,void 0);y(this,or,void 0);x(this,Ss,n),x(this,Di,s),x(this,or,null)}get _data(){return l(this,Ss)}_decodeWords(){return fp(l(this,Ss))}getWord(t){const n=P(this,Mi,Lo).call(this);return b(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return P(this,Mi,Lo).call(this).indexOf(t)}}Ss=new WeakMap,Di=new WeakMap,or=new WeakMap,Mi=new WeakSet,Lo=function(){if(l(this,or)==null){const t=this._decodeWords();if(Rt(t.join(`
`)+`
`)!==l(this,Di))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);x(this,or,t)}return l(this,or)};const dp="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",hp="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let oo=null;class Hn extends up{constructor(){super("en",dp,hp)}static wordlist(){return oo==null&&(oo=new Hn),oo}}function au(r){return(1<<r)-1<<8-r&255}function xp(r){return(1<<r)-1&255}function fo(r,e){Go("NFKD"),e==null&&(e=Hn.wordlist());const t=e.split(r);b(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let s=0;for(let f=0;f<t.length;f++){let u=e.getWordIndex(t[f].normalize("NFKD"));b(u>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(n[s>>3]|=1<<7-s%8),s++}const i=32*t.length/3,a=t.length/3,c=au(a),o=O(qe(n.slice(0,i/8)))[0]&c;return b(o===(n[n.length-1]&c),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),N(n.slice(0,i/8))}function lo(r,e){b(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Hn.wordlist());const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&xp(8-n)),n+=3);const s=r.length/4,i=parseInt(qe(r).substring(2,4),16)&au(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(a=>e.getWord(a)))}const uo={};class Mr{constructor(e,t,n,s,i){g(this,"phrase");g(this,"password");g(this,"wordlist");g(this,"entropy");s==null&&(s=""),i==null&&(i=Hn.wordlist()),On(e,uo,"Mnemonic"),T(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){const e=Ee("mnemonic"+this.password,"NFKD");return an(Ee(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const s=fo(e,n);return e=lo(O(s),n),new Mr(uo,s,e,t,n)}static fromEntropy(e,t,n){const s=O(e,"entropy"),i=lo(s,n);return new Mr(uo,N(s),i,t,n)}static entropyToPhrase(e,t){const n=O(e,"entropy");return lo(n,t)}static phraseToEntropy(e,t){return fo(e,t)}static isValidMnemonic(e,t){try{return fo(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var le=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},ho=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Da,He,pt;const bp={16:10,24:12,32:14},pp=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Ke=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ma=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],gp=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],yp=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],mp=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],wp=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Ap=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Ep=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Cp=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Pp=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Np=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ip=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],vp=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],kp=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function xo(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class bo{get key(){return le(this,Da,"f").slice()}constructor(e){if(Da.set(this,void 0),He.set(this,void 0),pt.set(this,void 0),!(this instanceof bo))throw Error("AES must be instanitated with `new`");ho(this,Da,new Uint8Array(e),"f");const t=bp[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");ho(this,pt,[],"f"),ho(this,He,[],"f");for(let u=0;u<=t;u++)le(this,pt,"f").push([0,0,0,0]),le(this,He,"f").push([0,0,0,0]);const n=(t+1)*4,s=this.key.length/4,i=xo(this.key);let a;for(let u=0;u<s;u++)a=u>>2,le(this,pt,"f")[a][u%4]=i[u],le(this,He,"f")[t-a][u%4]=i[u];let c=0,o=s,f;for(;o<n;){if(f=i[s-1],i[0]^=Ke[f>>16&255]<<24^Ke[f>>8&255]<<16^Ke[f&255]<<8^Ke[f>>24&255]^pp[c]<<24,c+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];f=i[s/2-1],i[s/2]^=Ke[f&255]^Ke[f>>8&255]<<8^Ke[f>>16&255]<<16^Ke[f>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let u=0,d,h;for(;u<s&&o<n;)d=o>>2,h=o%4,le(this,pt,"f")[d][h]=i[u],le(this,He,"f")[t-d][h]=i[u++],o++}for(let u=1;u<t;u++)for(let d=0;d<4;d++)f=le(this,He,"f")[u][d],le(this,He,"f")[u][d]=Np[f>>24&255]^Ip[f>>16&255]^vp[f>>8&255]^kp[f&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=le(this,pt,"f").length-1,n=[0,0,0,0];let s=xo(e);for(let c=0;c<4;c++)s[c]^=le(this,pt,"f")[0][c];for(let c=1;c<t;c++){for(let o=0;o<4;o++)n[o]=gp[s[o]>>24&255]^yp[s[(o+1)%4]>>16&255]^mp[s[(o+2)%4]>>8&255]^wp[s[(o+3)%4]&255]^le(this,pt,"f")[c][o];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let c=0;c<4;c++)a=le(this,pt,"f")[t][c],i[4*c]=(Ke[s[c]>>24&255]^a>>24)&255,i[4*c+1]=(Ke[s[(c+1)%4]>>16&255]^a>>16)&255,i[4*c+2]=(Ke[s[(c+2)%4]>>8&255]^a>>8)&255,i[4*c+3]=(Ke[s[(c+3)%4]&255]^a)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=le(this,He,"f").length-1,n=[0,0,0,0];let s=xo(e);for(let c=0;c<4;c++)s[c]^=le(this,He,"f")[0][c];for(let c=1;c<t;c++){for(let o=0;o<4;o++)n[o]=Ap[s[o]>>24&255]^Ep[s[(o+3)%4]>>16&255]^Cp[s[(o+2)%4]>>8&255]^Pp[s[(o+1)%4]&255]^le(this,He,"f")[c][o];s=n.slice()}const i=new Uint8Array(16);let a=0;for(let c=0;c<4;c++)a=le(this,He,"f")[t][c],i[4*c]=(Ma[s[c]>>24&255]^a>>24)&255,i[4*c+1]=(Ma[s[(c+3)%4]>>16&255]^a>>16)&255,i[4*c+2]=(Ma[s[(c+2)%4]>>8&255]^a>>8)&255,i[4*c+3]=(Ma[s[(c+1)%4]&255]^a)&255;return i}}Da=new WeakMap,He=new WeakMap,pt=new WeakMap;class cu{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new bo(t)},name:{enumerable:!0,value:e}})}}var Ga=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Gr=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},di,Dt;class po extends cu{constructor(e,t){if(super("ECC",e,po),di.set(this,void 0),Dt.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Ga(this,di,new Uint8Array(t),"f")}else Ga(this,di,new Uint8Array(16),"f");Ga(this,Dt,this.iv,"f")}get iv(){return new Uint8Array(Gr(this,di,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)Gr(this,Dt,"f")[s]^=e[n+s];Ga(this,Dt,this.aes.encrypt(Gr(this,Dt,"f")),"f"),t.set(Gr(this,Dt,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=s[i]^Gr(this,Dt,"f")[i],Gr(this,Dt,"f")[i]=e[n+i]}return t}}di=new WeakMap,Dt=new WeakMap;var Hr=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},_e=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},hi,Kn,Ve;class Kr extends cu{constructor(e,t){super("CTR",e,Kr),hi.set(this,void 0),Kn.set(this,void 0),Ve.set(this,void 0),Hr(this,Ve,new Uint8Array(16),"f"),_e(this,Ve,"f").fill(0),Hr(this,hi,_e(this,Ve,"f"),"f"),Hr(this,Kn,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(_e(this,Ve,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)_e(this,Ve,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");_e(this,Ve,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(_e(this,Ve,"f")[e]===255)_e(this,Ve,"f")[e]=0;else{_e(this,Ve,"f")[e]++;break}}encrypt(e){var t,n;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)_e(this,Kn,"f")===16&&(Hr(this,hi,this.aes.encrypt(_e(this,Ve,"f")),"f"),Hr(this,Kn,0,"f"),this.increment()),s[i]^=_e(this,hi,"f")[Hr(this,Kn,(n=_e(this,Kn,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}}hi=new WeakMap,Kn=new WeakMap,Ve=new WeakMap;function Op(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function ou(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),he(r)}function xi(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function bi(r){return typeof r=="string"?Ee(r,"NFKC"):he(r)}function ie(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);b(t!=null,"invalid path","path",e);const n=t[1],s=t[3],i=t[4]==="!";let a=r;for(const c of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!c.match(/^[0-9]+$/))break;a=a[parseInt(c)]}else if(typeof a=="object"){let o=null;for(const f in a)if(f.toLowerCase()===c){o=a[f];break}a=o}else a=null;if(a==null)break}if(b(!i||a!=null,"missing required value","path",n),s&&a!=null){if(s==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(s==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(s==="data"&&typeof a=="string")return ou(a);if(s==="array"&&Array.isArray(a)||s===typeof a)return a;b(!1,`wrong type found for ${s} `,"path",n)}return a}const fu="m/44'/60'/0'/0/0";function lu(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function Tp(r,e,t){if(ie(r,"crypto.cipher:string")==="aes-128-ctr"){const s=ie(r,"crypto.cipherparams.iv:data!"),i=new Kr(e,s);return N(i.decrypt(t))}A(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Ha(r,e){const t=O(e),n=ie(r,"crypto.ciphertext:data!"),s=N(J(z([t.slice(16,32),n]))).substring(2);b(s===ie(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=Tp(r,t.slice(0,16),n),a=ti(i);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),b(F(f)===a,"keystore address/privateKey mismatch","address",r.address)}const c={address:a,privateKey:i};if(ie(r,"x-ethers.version:string")==="0.1"){const f=t.slice(32,64),u=ie(r,"x-ethers.mnemonicCiphertext:data!"),d=ie(r,"x-ethers.mnemonicCounter:data!"),h=new Kr(f,d);c.mnemonic={path:ie(r,"x-ethers.path:string")||fu,locale:ie(r,"x-ethers.locale:string")||"en",entropy:N(O(h.decrypt(u)))}}return c}function uu(r){const e=ie(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=ie(r,"crypto.kdfparams.salt:data!"),n=ie(r,"crypto.kdfparams.n:int!"),s=ie(r,"crypto.kdfparams.r:int!"),i=ie(r,"crypto.kdfparams.p:int!");b(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),b(s>0&&i>0,"invalid kdf","kdf",e);const a=ie(r,"crypto.kdfparams.dklen:int!");return b(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=ie(r,"crypto.kdfparams.salt:data!"),n=ie(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();b(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=ie(r,"crypto.kdfparams.c:int!"),a=ie(r,"crypto.kdfparams.dklen:int!");return b(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:s}}}b(!1,"unsupported key-derivation function","kdf",e)}function Rp(r,e){const t=JSON.parse(r),n=bi(e),s=uu(t);if(s.name==="pbkdf2"){const{salt:d,count:h,dkLen:p,algorithm:m}=s,w=an(n,d,h,p,m);return Ha(t,w)}A(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:a,r:c,p:o,dkLen:f}=s,u=Nr(n,i,a,c,o,f);return Ha(t,u)}function du(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function Sp(r,e,t){const n=JSON.parse(r),s=bi(e),i=uu(n);if(i.name==="pbkdf2"){t&&(t(0),await du(0));const{salt:h,count:p,dkLen:m,algorithm:w}=i,E=an(s,h,p,m,w);return t&&(t(1),await du(0)),Ha(n,E)}A(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:c,r:o,p:f,dkLen:u}=i,d=await Pr(s,a,c,o,f,u,t);return Ha(n,d)}function hu(r){const e=r.salt!=null?O(r.salt,"options.salt"):Ot(32);let t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),b(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),b(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),b(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function xu(r,e,t,n){const s=O(t.privateKey,"privateKey"),i=n.iv!=null?O(n.iv,"options.iv"):Ot(16);b(i.length===16,"invalid options.iv length","options.iv",n.iv);const a=n.uuid!=null?O(n.uuid,"options.uuid"):Ot(16);b(a.length===16,"invalid options.uuid length","options.uuid",n.iv);const c=r.slice(0,16),o=r.slice(16,32),f=new Kr(c,i),u=O(f.encrypt(s)),d=J(z([o,u])),h={address:t.address.substring(2).toLowerCase(),id:ed(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:N(i).substring(2)},ciphertext:N(u).substring(2),kdf:"scrypt",kdfparams:{salt:N(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(t.mnemonic){const p=n.client!=null?n.client:`ethers/${M}`,m=t.mnemonic.path||fu,w=t.mnemonic.locale||"en",E=r.slice(32,64),C=O(t.mnemonic.entropy,"account.mnemonic.entropy"),B=Ot(16),I=new Kr(E,B),Q=O(I.encrypt(C)),R=new Date,de="UTC--"+(R.getUTCFullYear()+"-"+xi(R.getUTCMonth()+1,2)+"-"+xi(R.getUTCDate(),2)+"T"+xi(R.getUTCHours(),2)+"-"+xi(R.getUTCMinutes(),2)+"-"+xi(R.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:de,path:m,locale:w,mnemonicCounter:N(B).substring(2),mnemonicCiphertext:N(Q).substring(2),version:"0.1"}}return JSON.stringify(h)}function bu(r,e,t){t==null&&(t={});const n=bi(e),s=hu(t),i=Nr(n,s.salt,s.N,s.r,s.p,64);return xu(O(i),s,r,t)}async function pu(r,e,t){t==null&&(t={});const n=bi(e),s=hu(t),i=await Pr(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return xu(O(i),s,r,t)}const go="m/44'/60'/0'/0/0",Bp=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),hn=2147483648,Up=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Lp="0123456789abcdef";function Ka(r,e){let t="";for(;r;)t=Lp[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function yo(r){const e=O(r),t=W(qe(qe(e)),0,4),n=z([e,t]);return Jo(n)}const gt={};function gu(r,e,t,n){const s=new Uint8Array(37);r&hn?(A(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(O(n),1)):s.set(O(t));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=r>>24-a&255;const i=O(Sn("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function yu(r,e){const t=e.split("/");b(t.length>0&&(t[0]==="m"||r.depth>0),"invalid path","path",e),t[0]==="m"&&t.shift();let n=r;for(let s=0;s<t.length;s++){const i=t[s];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));b(a<hn,"invalid path index",`path[${s}]`,i),n=n.deriveChild(hn+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);b(a<hn,"invalid path index",`path[${s}]`,i),n=n.deriveChild(a)}else b(!1,"invalid path component",`path[${s}]`,i)}return n}const ft=class ft extends La{constructor(t,n,s,i,a,c,o,f,u){super(n,u);y(this,Gi);g(this,"publicKey");g(this,"fingerprint");g(this,"parentFingerprint");g(this,"mnemonic");g(this,"chainCode");g(this,"path");g(this,"index");g(this,"depth");On(t,gt,"HDNodeWallet"),T(this,{publicKey:n.compressedPublicKey});const d=W(Er(qe(this.publicKey)),0,4);T(this,{parentFingerprint:s,fingerprint:d,chainCode:i,path:a,index:c,depth:o}),T(this,{mnemonic:f})}connect(t){return new ft(gt,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await pu(P(this,Gi,Fo).call(this),t,{progressCallback:n})}encryptSync(t){return bu(P(this,Gi,Fo).call(this),t)}get extendedKey(){return A(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),yo(z(["0x0488ADE4",Ka(this.depth,1),this.parentFingerprint,Ka(this.index,4),this.chainCode,z(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new gi(gt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const n=L(t,"index");b(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~hn),n&hn&&(s+="'"));const{IR:i,IL:a}=gu(n,this.chainCode,this.publicKey,this.privateKey),c=new ht(It((Wi(a)+BigInt(this.privateKey))%Up,32));return new ft(gt,c,this.fingerprint,N(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return yu(this,t)}static fromExtendedKey(t){const n=Ae(Du(t));b(n.length===82||yo(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const s=n[4],i=N(n.slice(5,9)),a=parseInt(N(n.slice(9,13)).substring(2),16),c=N(n.slice(13,45)),o=n.slice(45,78);switch(N(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const f=N(o);return new gi(gt,ti(f),f,i,c,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new ft(gt,new ht(o.slice(1)),i,c,null,a,s,null,null)}b(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var a;t==null&&(t=""),n==null&&(n=go),s==null&&(s=Hn.wordlist());const i=Mr.fromEntropy(Ot(16),t,s);return P(a=ft,fr,zi).call(a,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=go),P(s=ft,fr,zi).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var c;n==null&&(n=""),s==null&&(s=go),i==null&&(i=Hn.wordlist());const a=Mr.fromPhrase(t,n,i);return P(c=ft,fr,zi).call(c,a.computeSeed(),a).derivePath(s)}static fromSeed(t){var n;return P(n=ft,fr,zi).call(n,t,null)}};Gi=new WeakSet,Fo=function(){const t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},fr=new WeakSet,zi=function(t,n){b(Ko(t),"invalid seed","seed","[REDACTED]");const s=O(t,"seed");b(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const i=O(Sn("sha512",Bp,s)),a=new ht(N(i.slice(0,32)));return new ft(gt,a,"0x00000000",N(i.slice(32)),"m",0,0,n,null)},y(ft,fr);let pi=ft;class gi extends so{constructor(t,n,s,i,a,c,o,f,u){super(n,u);g(this,"publicKey");g(this,"fingerprint");g(this,"parentFingerprint");g(this,"chainCode");g(this,"path");g(this,"index");g(this,"depth");On(t,gt,"HDNodeVoidWallet"),T(this,{publicKey:s});const d=W(Er(qe(s)),0,4);T(this,{publicKey:s,fingerprint:d,parentFingerprint:i,chainCode:a,path:c,index:o,depth:f})}connect(t){return new gi(gt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return A(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),yo(z(["0x0488B21E",Ka(this.depth,1),this.parentFingerprint,Ka(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const n=L(t,"index");b(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~hn),n&hn&&(s+="'"));const{IR:i,IL:a}=gu(n,this.chainCode,this.publicKey,null),c=ht.addPoints(a,this.publicKey,!0),o=ti(c);return new gi(gt,o,c,this.fingerprint,N(i),s,n,this.depth+1,this.provider)}derivePath(t){return yu(this,t)}}function mu(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function wu(r,e){const t=JSON.parse(r),n=bi(e),s=F(ie(t,"ethaddr:string!")),i=ou(ie(t,"encseed:string!"));b(i&&i.length%16===0,"invalid encseed","json",r);const a=O(an(n,n,2e3,32,"sha256")).slice(0,16),c=i.slice(0,16),o=i.slice(16),f=new po(a,c),u=Op(O(f.decrypt(o)));let d="";for(let h=0;h<u.length;h++)d+=String.fromCharCode(u[h]);return{address:s,privateKey:Rt(d)}}function Au(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}const lr=class lr extends La{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new ht(e):e;super(n,t)}connect(e){return new lr(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await pu(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return bu(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return lu(e)?s=await Sp(e,t,n):mu(e)&&(n&&(n(0),await Au(0)),s=wu(e,t),n&&(n(1),await Au(0))),P(i=lr,Hi,Do).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return lu(e)?n=Rp(e,t):mu(e)?n=wu(e,t):b(!1,"invalid JSON wallet","json","[ REDACTED ]"),P(s=lr,Hi,Do).call(s,n)}static createRandom(e){const t=pi.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=pi.fromPhrase(e);return t?n.connect(t):n}};Hi=new WeakSet,Do=function(e){if(b(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=Mr.fromEntropy(e.mnemonic.entropy),s=pi.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new lr(e.privateKey);return b(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},y(lr,Hi);let _a=lr;function Fp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Eu={},mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.autoSelectMode=function(){return typeof window=="object"&&window.localStorage?"browser":"node"};var wo={exports:{}},Cu;function Dp(){return Cu||(Cu=1,function(r,e){(function(t){var n={},s={};n.length=0,n.getItem=function(i){return i in s?s[i]:null},n.setItem=function(i,a){typeof a>"u"?n.removeItem(i):(s.hasOwnProperty(i)||n.length++,s[i]=""+a)},n.removeItem=function(i){s.hasOwnProperty(i)&&(delete s[i],n.length--)},n.key=function(i){return Object.keys(s)[i]||null},n.clear=function(){s={},n.length=0},r.exports=n})()}(wo)),wo.exports}Object.defineProperty(Eu,"__esModule",{value:!0});var Mp=mo;function Gp(r){r===void 0&&(r={});var e=r.mode||"auto",t=e==="auto"?Mp.autoSelectMode():e;if(t==="browser")return window.localStorage;if(t==="node")throw new Error('Can not select "node" mode in browser');if(t==="memory")return Dp();throw new Error("Unknown mode:"+t)}var Pu=Eu.createLocalStorage=Gp,Nu={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(o,f,u){this.fn=o,this.context=f,this.once=u||!1}function i(o,f,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,d||o,h),m=t?t+f:f;return o._events[m]?o._events[m].fn?o._events[m]=[o._events[m],p]:o._events[m].push(p):(o._events[m]=p,o._eventsCount++),o}function a(o,f){--o._eventsCount===0?o._events=new n:delete o._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],u,d;if(this._eventsCount===0)return f;for(d in u=this._events)e.call(u,d)&&f.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(u)):f},c.prototype.listeners=function(f){var u=t?t+f:f,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},c.prototype.listenerCount=function(f){var u=t?t+f:f,d=this._events[u];return d?d.fn?1:d.length:0},c.prototype.emit=function(f,u,d,h,p,m){var w=t?t+f:f;if(!this._events[w])return!1;var E=this._events[w],C=arguments.length,B,I;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,u),!0;case 3:return E.fn.call(E.context,u,d),!0;case 4:return E.fn.call(E.context,u,d,h),!0;case 5:return E.fn.call(E.context,u,d,h,p),!0;case 6:return E.fn.call(E.context,u,d,h,p,m),!0}for(I=1,B=new Array(C-1);I<C;I++)B[I-1]=arguments[I];E.fn.apply(E.context,B)}else{var Q=E.length,R;for(I=0;I<Q;I++)switch(E[I].once&&this.removeListener(f,E[I].fn,void 0,!0),C){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,u);break;case 3:E[I].fn.call(E[I].context,u,d);break;case 4:E[I].fn.call(E[I].context,u,d,h);break;default:if(!B)for(R=1,B=new Array(C-1);R<C;R++)B[R-1]=arguments[R];E[I].fn.apply(E[I].context,B)}}return!0},c.prototype.on=function(f,u,d){return i(this,f,u,d,!1)},c.prototype.once=function(f,u,d){return i(this,f,u,d,!0)},c.prototype.removeListener=function(f,u,d,h){var p=t?t+f:f;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&a(this,p);else{for(var w=0,E=[],C=m.length;w<C;w++)(m[w].fn!==u||h&&!m[w].once||d&&m[w].context!==d)&&E.push(m[w]);E.length?this._events[p]=E.length===1?E[0]:E:a(this,p)}return this},c.prototype.removeAllListeners=function(f){var u;return f?(u=t?t+f:f,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,r.exports=c})(Nu);var Hp=Nu.exports;const Kp=Fp(Hp),Ao={"0xf8":"https://rpc.mainnet.oasys.games","0x4ee5":"https://rpc.sandverse.oasys.games/","0x4a43":"https://rpc.mainnet.oasys.homeverse.games"};class _p extends Kp{constructor(t,n="0x4a43"){super();g(this,"localStorage");g(this,"prefix","itw:::");g(this,"network_localstorage_key",`${this.prefix}_chainhex_key`);g(this,"isMetaMask");g(this,"isStatus");g(this,"host");g(this,"path");g(this,"jsonRpcProvider");g(this,"wallet");g(this,"chainId");g(this,"sendAsync");g(this,"send");this.localStorage=Pu(),this.isMetaMask=!1,this.isStatus=!1,this.host="",this.path="";const s=this.localStorage.getItem(this.network_localstorage_key);s?this.jsonRpcProvider=new Ua(Ao[s]):this.jsonRpcProvider=new Ua(Ao[n]),this.wallet=new _a(t,this.jsonRpcProvider),this._initialize()}async _initialize(){const t=await this.jsonRpcProvider.getNetwork();this.chainId=Number(t.chainId)}getAddress(){return this.wallet.address}getProvider(){return this.jsonRpcProvider}async request({method:t,params:n}){switch(t){case"wallet_addEthereumChain":if(!n[0].rpcUrls)throw new Error("No rpcUrls in params");const s=n[0].rpcUrls[0];this.jsonRpcProvider=new Ua(s);const i=await this.jsonRpcProvider.getNetwork();this.chainId=Number(i.chainId),this.emitChainChanged();return;case"wallet_switchEthereumChain":const a=Ao[n[0].chainId.toLowerCase()];if(!a)return;this.jsonRpcProvider=new Ua(a);const c=await this.jsonRpcProvider.getNetwork();this.localStorage.setItem(this.network_localstorage_key,n[0].chainId.toLowerCase()),this.chainId=Number(c.chainId),this.emitChainChanged();return;case"eth_requestAccounts":case"eth_accounts":return[this.wallet.address];case"eth_sendTransaction":return(await this.wallet.sendTransaction(n[0])).hash;case"personal_sign":return await this.wallet.signMessage(Ae(n[0]));case"eth_call":return this.handleEthCall(n);default:return await this.jsonRpcProvider.send(t,n)}}async handleEthCall(t){const n=t[0],s=t[1]||"latest";console.log(n);const i={to:n.to,data:n.input??n.data??"",gasLimit:n.gas,gasPrice:n.gasPrice,value:n.value,nonce:n.nonce,chainId:n.chainId,blockTag:s};return console.log(i),await this.jsonRpcProvider.call(i)}emitChainChanged(){this.emit("chainChanged",this.chainId)}emitAccountsChanged(t){this.emit("accountsChanged",t)}}class Vp{constructor(e="0x4a43"){g(this,"localStorage");g(this,"prefix","itw:::");g(this,"private_key",`${this.prefix}_private_key`);g(this,"mnemonic_key",`${this.prefix}_mnemonic_key`);g(this,"wallet");this.localStorage=Pu(),this.localStorage.getItem(this.private_key)||this.createKey(),this.wallet=new _p(this.getPrivateKey(),e)}createKey(){var t;const e=_a.createRandom();this.localStorage.setItem(this.mnemonic_key,(t=e.mnemonic)==null?void 0:t.phrase),this.localStorage.setItem(this.private_key,e.privateKey)}getPrivateKey(){return this.localStorage.getItem(this.private_key)}getMnemonic(){return this.localStorage.getItem(this.mnemonic_key)}getProvider(){return this.wallet.getProvider()}getEIP1193Provider(){return this.wallet}wipe(){this.localStorage.removeItem(this.private_key),this.localStorage.removeItem(this.mnemonic_key)}}K.InstantWallet=Vp,Object.defineProperty(K,Symbol.toStringTag,{value:"Module"})});
